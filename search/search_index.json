{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"A-Proxy Documentation","text":"<p>A-Proxy is a persona-driven web archiving system that enables targeted web crawling from specific user perspectives while preserving LLM interactions for research.</p>"},{"location":"#core-goals","title":"Core Goals","text":"<p>A-Proxy serves two primary archival objectives:</p> <ol> <li> <p>Persona-Driven Web Crawling: Develop detailed persona representations through cumulative chat conversations to enable targeted web crawling from specific perspectives.</p> </li> <li> <p>LLM Evolution Documentation: Archive chat interactions to study how large language models develop over time and respond to increasing personalization.</p> </li> </ol>"},{"location":"#how-it-works","title":"How It Works","text":"<p>The system operates through a feedback loop:</p> <pre><code>Persona Generation --&gt; Persona Development via Chat --&gt; Targeted Crawling --&gt; Dual Archival Value\n</code></pre>"},{"location":"#the-feedback-loop","title":"The Feedback Loop","text":"<ol> <li> <p>Persona Generation: Archivists create initial personas across four data categories (demographic, psychographic, behavioral, contextual) with LLM assistance.</p> </li> <li> <p>Persona Development: Through chat conversations, personas evolve and gain depth. Relevant features are reified to build components that browsers and content delivery systems use for targeting.</p> </li> <li> <p>Targeted Crawling: Archivists crawl websites from persona perspectives. Browser variables reflect persona characteristics (location, language, user-agent), cookies set context, and browsing sessions capture how different users experience the web.</p> </li> <li> <p>Dual Archival Value: Refined personas enable crawls from specific perspectives while preserved chats document LLM behavior changes over time.</p> </li> </ol>"},{"location":"#key-features","title":"Key Features","text":"Feature Description Persona Management Create and manage user personas with 4-dimensional attributes Journey Tracking Record sequences of web interactions as \"journeys\" with \"waypoints\" Web Archiving Archive webpages with persona-specific context (language, geolocation) AI Integration Chat with Claude AI as or about a persona to develop attributes VPN Simulation Test from different geographic regions using VPN integration"},{"location":"#use-cases","title":"Use Cases","text":"<ul> <li>Targeted web archiving from diverse demographic perspectives</li> <li>Documenting how different user groups experience websites</li> <li>Preserving persona-LLM interactions for future research</li> <li>Studying LLM behavioral changes over time</li> <li>Creating archival records that reflect multiple viewpoints</li> </ul>"},{"location":"#getting-started","title":"Getting Started","text":"<ul> <li> <p>Installation</p> <p>Set up A-Proxy on your local machine or server</p> <p>:octicons-arrow-right-24: Installation Guide</p> </li> <li> <p>First Login</p> <p>Log in and explore the interface</p> <p>:octicons-arrow-right-24: First Login</p> </li> </ul>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Persona Model - Understanding the 4-dimensional persona framework</li> <li>Journeys and Waypoints - Tracking user interactions</li> <li>Create Personas - Step-by-step persona creation</li> <li>API Reference - Complete API documentation</li> </ul>"},{"location":"faq/","title":"Frequently Asked Questions","text":""},{"location":"faq/#general-questions","title":"General Questions","text":""},{"location":"faq/#what-is-a-proxy","title":"What is A-Proxy?","text":"<p>A-Proxy is a persona simulation and web interaction tracking system designed for archival research. It enables researchers to create detailed user personas and capture web content from those personas' perspectives.</p>"},{"location":"faq/#what-are-the-primary-use-cases","title":"What are the primary use cases?","text":"<ol> <li>Persona-driven web archiving: Capturing web content as it appears to users with specific demographic, psychographic, behavioral, and contextual attributes</li> <li>LLM interaction research: Documenting how large language models respond to different persona contexts over time</li> </ol>"},{"location":"faq/#what-is-the-relationship-with-ontserve-and-proethica","title":"What is the relationship with OntServe and ProEthica?","text":"<p>A-Proxy is part of a larger ontology-driven research ecosystem:</p> <ul> <li>OntServe: Provides ontology storage and querying for role definitions</li> <li>ProEthica: Provides professional ethics frameworks</li> </ul> <p>Integration with these systems is planned but not yet implemented.</p>"},{"location":"faq/#installation","title":"Installation","text":""},{"location":"faq/#what-are-the-system-requirements","title":"What are the system requirements?","text":"<ul> <li>Python 3.8 or higher</li> <li>Node.js (for frontend dependencies)</li> <li>Docker (recommended for full functionality)</li> <li>Chromium browser (for web archiving)</li> </ul>"},{"location":"faq/#why-is-docker-recommended","title":"Why is Docker recommended?","text":"<p>Docker provides:</p> <ul> <li>Consistent environment across systems</li> <li>Simplified VPN integration</li> <li>Isolated browser instances</li> <li>Easier dependency management</li> </ul>"},{"location":"faq/#can-i-run-a-proxy-without-docker","title":"Can I run A-Proxy without Docker?","text":"<p>Yes. Manual installation is supported. See Installation for both methods.</p>"},{"location":"faq/#personas","title":"Personas","text":""},{"location":"faq/#what-are-the-four-persona-dimensions","title":"What are the four persona dimensions?","text":"<ol> <li>Demographic: Observable characteristics (location, age, occupation)</li> <li>Psychographic: Internal attributes (interests, values, personality)</li> <li>Behavioral: Online actions (browsing habits, device usage)</li> <li>Contextual: Situational factors (time of day, device type)</li> </ol> <p>See Persona Model for details.</p>"},{"location":"faq/#how-do-personas-affect-web-browsing","title":"How do personas affect web browsing?","text":"<p>Persona attributes configure browser settings:</p> <ul> <li>Geographic location via VPN</li> <li>Language via Accept-Language header</li> <li>Device via User-Agent string</li> <li>Screen size via viewport settings</li> </ul>"},{"location":"faq/#can-personas-be-developed-through-conversation","title":"Can personas be developed through conversation?","text":"<p>Yes. Chat with Claude AI as or about a persona to develop attributes organically. The system can extract information from conversations to update persona profiles.</p>"},{"location":"faq/#journeys-and-waypoints","title":"Journeys and Waypoints","text":""},{"location":"faq/#what-is-a-journey","title":"What is a journey?","text":"<p>A journey is a named collection of interactions performed as a specific persona. It organizes browsing sessions and chat conversations into a coherent sequence.</p>"},{"location":"faq/#what-is-a-waypoint","title":"What is a waypoint?","text":"<p>A waypoint is a single interaction within a journey. Types include:</p> <ul> <li>Browse waypoints: Web page visits</li> <li>Agent waypoints: Chat conversations with Claude</li> </ul>"},{"location":"faq/#how-are-waypoints-ordered","title":"How are waypoints ordered?","text":"<p>Waypoints have sequence numbers assigned automatically based on creation order within a journey.</p>"},{"location":"faq/#vpn-integration","title":"VPN Integration","text":""},{"location":"faq/#which-vpn-services-are-supported","title":"Which VPN services are supported?","text":"<p>Currently, NordVPN is supported via OpenVPN configuration files.</p>"},{"location":"faq/#why-might-vpn-not-work","title":"Why might VPN not work?","text":"<p>Common causes:</p> <ul> <li>Invalid credentials in <code>nordvpn/auth.txt</code></li> <li>Missing OpenVPN configuration files</li> <li>Target site blocking VPN traffic</li> <li>Firewall restrictions</li> </ul>"},{"location":"faq/#can-i-use-a-proxy-without-vpn","title":"Can I use A-Proxy without VPN?","text":"<p>Yes. VPN is optional. Without VPN, browsing uses your actual network location.</p>"},{"location":"faq/#web-archiving","title":"Web Archiving","text":""},{"location":"faq/#what-is-captured-when-archiving-a-page","title":"What is captured when archiving a page?","text":"<ul> <li>HTML source</li> <li>Screenshot of rendered page</li> <li>HTTP headers</li> <li>Metadata (persona context, timestamps)</li> </ul>"},{"location":"faq/#where-are-archives-stored","title":"Where are archives stored?","text":"<p>In the <code>archives/</code> directory, organized by date.</p>"},{"location":"faq/#does-a-proxy-interact-with-the-internet-archive","title":"Does A-Proxy interact with the Internet Archive?","text":"<p>Integration with the Internet Archive is configurable but separate from local archiving.</p>"},{"location":"faq/#claude-ai-integration","title":"Claude AI Integration","text":""},{"location":"faq/#how-is-claude-used-in-a-proxy","title":"How is Claude used in A-Proxy?","text":"<p>Claude AI enables:</p> <ul> <li>Conversational persona development</li> <li>Browsing-related queries as a persona</li> <li>Research assistance from persona perspective</li> </ul>"},{"location":"faq/#what-api-key-is-required","title":"What API key is required?","text":"<p>An Anthropic API key (<code>ANTHROPIC_API_KEY</code>) is required for Claude integration.</p>"},{"location":"faq/#are-conversations-stored","title":"Are conversations stored?","text":"<p>Yes. Agent waypoints store conversation history as JSON for research purposes.</p>"},{"location":"faq/#technical-issues","title":"Technical Issues","text":""},{"location":"faq/#database-errors-on-startup","title":"Database errors on startup","text":"<p>Try removing and reinitializing:</p> <pre><code>rm data/personas.db\npython -c \"from database import initialize_database; initialize_database()\"\n</code></pre>"},{"location":"faq/#port-5002-already-in-use","title":"Port 5002 already in use","text":"<p>Specify a different port:</p> <pre><code>python app.py --port 5003\n</code></pre>"},{"location":"faq/#pages-not-loading-during-browsing","title":"Pages not loading during browsing","text":"<p>Check:</p> <ol> <li>Internet connectivity</li> <li>VPN connection status (if enabled)</li> <li>Target site accessibility</li> </ol>"},{"location":"faq/#missing-persona-data-after-update","title":"Missing persona data after update","text":"<p>Ensure all dimension tables exist. Run database initialization:</p> <pre><code>from database import create_persona_tables\ncreate_persona_tables()\n</code></pre>"},{"location":"faq/#data-and-privacy","title":"Data and Privacy","text":""},{"location":"faq/#where-is-data-stored","title":"Where is data stored?","text":"<p>All data is stored locally:</p> <ul> <li>Database: <code>data/personas.db</code></li> <li>Archives: <code>archives/</code></li> <li>VPN credentials: <code>nordvpn/auth.txt</code></li> </ul>"},{"location":"faq/#is-data-encrypted","title":"Is data encrypted?","text":"<p>No encryption at rest is implemented. This is intended for local/research use.</p>"},{"location":"faq/#can-data-be-exported","title":"Can data be exported?","text":"<p>Journey and persona data can be exported as JSON through the interface.</p>"},{"location":"faq/#development","title":"Development","text":""},{"location":"faq/#how-do-i-run-tests","title":"How do I run tests?","text":"<pre><code>python tests/test_runner.py\n</code></pre>"},{"location":"faq/#what-is-the-repository-pattern","title":"What is the repository pattern?","text":"<p>Data access uses repository classes that encapsulate database operations:</p> <pre><code>from database.repositories import PersonaRepository\nrepo = PersonaRepository()\npersona = repo.get(1)\n</code></pre>"},{"location":"faq/#how-do-i-add-new-endpoints","title":"How do I add new endpoints?","text":"<ol> <li>Create a blueprint in <code>routes/</code></li> <li>Register in <code>app.py</code></li> <li>Add templates in <code>templates/</code></li> </ol>"},{"location":"faq/#getting-help","title":"Getting Help","text":""},{"location":"faq/#where-can-i-report-issues","title":"Where can I report issues?","text":"<p>Report issues at the project repository.</p>"},{"location":"faq/#is-there-a-community-forum","title":"Is there a community forum?","text":"<p>Not currently. For questions, open an issue on the repository.</p>"},{"location":"concepts/archival-goals/","title":"Archival Goals","text":"<p>A-Proxy serves two complementary archival objectives that together provide unique research value for understanding both web content personalization and LLM behavior.</p>"},{"location":"concepts/archival-goals/#dual-archival-purpose","title":"Dual Archival Purpose","text":""},{"location":"concepts/archival-goals/#1-persona-driven-web-crawling","title":"1. Persona-Driven Web Crawling","text":"<p>Traditional web archiving captures a single, generic view of web content. However, modern websites deliver personalized experiences based on user attributes such as:</p> <ul> <li>Geographic location</li> <li>Language preferences</li> <li>Browsing history</li> <li>Device characteristics</li> <li>Time of access</li> </ul> <p>A-Proxy enables targeted web crawling from specific perspectives by:</p> <ul> <li>Developing detailed persona representations through cumulative interactions</li> <li>Configuring browser variables to reflect persona characteristics</li> <li>Capturing how different user types experience the same content</li> <li>Preserving the personalized web as it was presented to specific audiences</li> </ul>"},{"location":"concepts/archival-goals/#2-llm-evolution-documentation","title":"2. LLM Evolution Documentation","text":"<p>As large language models evolve, their responses to personalization change. A-Proxy archives chat interactions to:</p> <ul> <li>Document how LLMs respond to increasing personalization</li> <li>Track changes in model behavior across versions</li> <li>Benchmark responses based on persona characteristics</li> <li>Preserve conversational context for future research</li> </ul>"},{"location":"concepts/archival-goals/#the-personalization-challenge","title":"The Personalization Challenge","text":"<p>Modern web pages present different content based on user attributes:</p> Attribute Web Impact Location (GeoIP) Local news, weather, regional pricing Language Interface language, content translation Browsing History Recommendations, targeted advertising Device Type Layout, feature availability Time of Day Content freshness, regional updates <p>Traditional archiving methods capture only one version, losing the rich diversity of personalized experiences.</p>"},{"location":"concepts/archival-goals/#research-applications","title":"Research Applications","text":""},{"location":"concepts/archival-goals/#web-archive-research","title":"Web Archive Research","text":"<ul> <li>Demographic Perspectives: How did different user groups experience a website during a historical event?</li> <li>Regional Variations: What content differences existed between geographic regions?</li> <li>Temporal Analysis: How did personalization strategies evolve over time?</li> </ul>"},{"location":"concepts/archival-goals/#llm-research","title":"LLM Research","text":"<ul> <li>Personalization Response: How do LLMs adapt their communication style to different personas?</li> <li>Consistency Analysis: Are LLM responses consistent across similar persona types?</li> <li>Evolution Tracking: How have LLM personalization capabilities changed between versions?</li> </ul>"},{"location":"concepts/archival-goals/#retrieval-and-replay","title":"Retrieval and Replay","text":"<p>A-Proxy addresses the two key phases of personalized archiving:</p>"},{"location":"concepts/archival-goals/#retrieval-phase","title":"Retrieval Phase","text":"<p>Capturing web content comprehensively:</p> <ul> <li>Static elements (HTML, CSS)</li> <li>Dynamic content (JavaScript-rendered elements)</li> <li>Personalization layers (recommendations, location-based content)</li> <li>Contextual metadata (user-agent, cookies, geolocation)</li> </ul>"},{"location":"concepts/archival-goals/#replay-phase","title":"Replay Phase","text":"<p>Recreating captured content faithfully:</p> <ul> <li>Session reconstruction with original user context</li> <li>Browser environment simulation</li> <li>Dynamic feature preservation</li> <li>Temporal comparison support</li> </ul>"},{"location":"concepts/archival-goals/#ontology-based-organization","title":"Ontology-Based Organization","text":"<p>A-Proxy uses ontology concepts to organize user attributes:</p> Data Category Ontology Entity Purpose Demographic CCO:Agent User profile classification Behavioral BFO:Occurrent Activity pattern tracking Psychographic BFO:SpecificallyDependentContinuant Preference modeling Contextual BFO:SpatialRegion, BFO:TemporalRegion Environment simulation <p>This structured approach enables:</p> <ul> <li>Systematic persona comparison</li> <li>Cross-archive analysis</li> <li>Research reproducibility</li> </ul>"},{"location":"concepts/archival-goals/#related-concepts","title":"Related Concepts","text":"<ul> <li>Persona Model - The 4-dimensional attribute framework</li> <li>Journeys and Waypoints - Tracking interaction sequences</li> </ul>"},{"location":"concepts/journeys-waypoints/","title":"Journeys and Waypoints","text":"<p>Journeys and waypoints provide the mechanism for recording and organizing persona interactions over time.</p>"},{"location":"concepts/journeys-waypoints/#concepts","title":"Concepts","text":""},{"location":"concepts/journeys-waypoints/#journey","title":"Journey","text":"<p>A journey is a named collection of interactions linked to a specific persona. Each journey represents a session or series of sessions where the persona engages with the web or an AI agent.</p> Field Type Description <code>id</code> integer Unique identifier <code>name</code> string Descriptive name for the journey <code>description</code> string Optional detailed description <code>persona_id</code> integer Link to the associated persona <code>journey_type</code> string Type of journey (e.g., \"marketing\", \"research\") <code>status</code> string Current status (\"active\", \"completed\", etc.) <code>created_at</code> datetime Creation timestamp <code>updated_at</code> datetime Last modification timestamp"},{"location":"concepts/journeys-waypoints/#waypoint","title":"Waypoint","text":"<p>A waypoint is an individual step within a journey. Each waypoint records a discrete interaction such as visiting a URL or having a conversation with an AI agent.</p> Field Type Description <code>id</code> integer Unique identifier <code>journey_id</code> integer Link to parent journey <code>url</code> string URL visited or context reference <code>title</code> string Page title or waypoint label <code>notes</code> string User-added notes <code>screenshot_path</code> string Path to captured screenshot <code>timestamp</code> datetime When the waypoint was created <code>sequence_number</code> integer Order within the journey <code>type</code> string \"browse\" or \"agent\" <code>agent_data</code> JSON Conversation data (for agent waypoints) <code>metadata</code> JSON Additional context information"},{"location":"concepts/journeys-waypoints/#waypoint-types","title":"Waypoint Types","text":""},{"location":"concepts/journeys-waypoints/#browse-waypoints","title":"Browse Waypoints","text":"<p>Created when navigating the web as a persona. Captures:</p> <ul> <li>URL visited</li> <li>Page title</li> <li>Screenshot of the page</li> <li>Browser context (cookies, headers)</li> </ul>"},{"location":"concepts/journeys-waypoints/#agent-waypoints","title":"Agent Waypoints","text":"<p>Created during conversations with Claude AI. Captures:</p> <ul> <li>Conversation history</li> <li>Persona context provided to the AI</li> <li>Any persona attribute updates derived from the conversation</li> </ul>"},{"location":"concepts/journeys-waypoints/#journey-types","title":"Journey Types","text":"Type Description Use Case <code>marketing</code> Consumer-focused browsing Capturing ad experiences <code>research</code> Information-seeking behavior Academic or professional research patterns <code>shopping</code> E-commerce interactions Purchase journey analysis <code>general</code> Unspecified browsing General web exploration"},{"location":"concepts/journeys-waypoints/#data-flow","title":"Data Flow","text":"<pre><code>Journey Creation\n      |\n      v\n+------------------+\n|    Journey       |\n|  - name          |\n|  - persona_id    |\n|  - journey_type  |\n+------------------+\n      |\n      +-----&gt; Waypoint 1 (browse)\n      |         - url: https://example.com\n      |         - screenshot: path/to/img.png\n      |\n      +-----&gt; Waypoint 2 (agent)\n      |         - conversation data\n      |         - persona updates\n      |\n      +-----&gt; Waypoint 3 (browse)\n                - url: https://example.com/page2\n                - screenshot: path/to/img2.png\n</code></pre>"},{"location":"concepts/journeys-waypoints/#example-journey","title":"Example Journey","text":"<pre><code># Journey structure\n{\n    \"id\": 1,\n    \"name\": \"Morning Coffee Shopping\",\n    \"description\": \"Researching coffee equipment as Brooklyn chef persona\",\n    \"persona_id\": 1,\n    \"journey_type\": \"shopping\",\n    \"status\": \"active\",\n    \"waypoints\": [\n        {\n            \"id\": 1,\n            \"sequence_number\": 1,\n            \"type\": \"browse\",\n            \"url\": \"https://www.coffee-gear.com\",\n            \"title\": \"Coffee Equipment | Home\",\n            \"timestamp\": \"2024-12-09T08:30:00Z\"\n        },\n        {\n            \"id\": 2,\n            \"sequence_number\": 2,\n            \"type\": \"agent\",\n            \"url\": \"agent://conversation\",\n            \"title\": \"Discussion about espresso machines\",\n            \"agent_data\": {\n                \"messages\": [\n                    {\"role\": \"user\", \"content\": \"What espresso machine would you recommend for a small restaurant?\"},\n                    {\"role\": \"assistant\", \"content\": \"For a small restaurant, I'd suggest...\"}\n                ]\n            },\n            \"timestamp\": \"2024-12-09T08:35:00Z\"\n        },\n        {\n            \"id\": 3,\n            \"sequence_number\": 3,\n            \"type\": \"browse\",\n            \"url\": \"https://www.coffee-gear.com/commercial/espresso\",\n            \"title\": \"Commercial Espresso Machines\",\n            \"timestamp\": \"2024-12-09T08:40:00Z\"\n        }\n    ]\n}\n</code></pre>"},{"location":"concepts/journeys-waypoints/#archival-value","title":"Archival Value","text":"<p>Journeys and waypoints serve dual purposes:</p>"},{"location":"concepts/journeys-waypoints/#web-archiving","title":"Web Archiving","text":"<ul> <li>Record the sequence of pages visited</li> <li>Capture page content from the persona's perspective</li> <li>Document navigation patterns and user flows</li> </ul>"},{"location":"concepts/journeys-waypoints/#llm-research","title":"LLM Research","text":"<ul> <li>Preserve conversations between personas and AI</li> <li>Track how AI responses evolve with increasing persona context</li> <li>Document persona development through chat interactions</li> </ul>"},{"location":"concepts/journeys-waypoints/#metadata-capture","title":"Metadata Capture","text":"<p>Waypoints can include rich metadata:</p> <pre><code>{\n    \"metadata\": {\n        \"browser\": {\n            \"user_agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64)...\",\n            \"viewport\": \"1920x1080\",\n            \"language\": \"en-US\"\n        },\n        \"network\": {\n            \"ip_region\": \"US-NY\",\n            \"connection_type\": \"wifi\"\n        },\n        \"timing\": {\n            \"load_time_ms\": 1234,\n            \"time_on_page_ms\": 45000\n        }\n    }\n}\n</code></pre>"},{"location":"concepts/journeys-waypoints/#related-concepts","title":"Related Concepts","text":"<ul> <li>Persona Model - The 4-dimensional attribute framework</li> <li>Archival Goals - How journeys support archival research</li> <li>Manage Journeys - Working with journeys in the interface</li> </ul>"},{"location":"concepts/persona-model/","title":"Persona Model","text":"<p>A-Proxy uses a 4-dimensional persona model derived from advertising and user profiling research. Each dimension captures different aspects of user identity that influence web personalization.</p>"},{"location":"concepts/persona-model/#the-four-dimensions","title":"The Four Dimensions","text":"<pre><code>                    Persona\n                       |\n    +--------+---------+---------+--------+\n    |        |         |         |        |\nDemographic  Psychographic  Behavioral  Contextual\n</code></pre>"},{"location":"concepts/persona-model/#1-demographic-data","title":"1. Demographic Data","text":"<p>External, observable characteristics that define who the user is.</p> Field Type Description <code>latitude</code> float Geographic latitude coordinate <code>longitude</code> float Geographic longitude coordinate <code>country</code> string Country of residence <code>city</code> string City of residence <code>region</code> string State/province/region <code>language</code> string Primary language (e.g., \"en-US\") <code>age</code> integer Age in years <code>gender</code> string Gender identity <code>education</code> string Education level <code>income</code> string Income bracket <code>occupation</code> string Job title or profession <p>Impact on Web Experience: Location affects local content (news, weather, pricing), language determines interface localization, and demographics influence targeted advertising.</p>"},{"location":"concepts/persona-model/#2-psychographic-data","title":"2. Psychographic Data","text":"<p>Internal psychological attributes that define what the user values and believes.</p> Field Type Description <code>interests</code> list Personal interests and hobbies <code>personal_values</code> list Core values the persona prioritizes <code>attitudes</code> list General outlook and viewpoints <code>lifestyle</code> string Overall lifestyle description <code>personality</code> string Personality traits and characteristics <code>opinions</code> list Specific viewpoints on relevant topics <p>Impact on Web Experience: Interests drive content recommendations, values influence brand alignment, and personality affects communication style preferences.</p>"},{"location":"concepts/persona-model/#3-behavioral-data","title":"3. Behavioral Data","text":"<p>Observable online actions and usage patterns.</p> Field Type Description <code>browsing_habits</code> list Types of websites frequently visited <code>purchase_history</code> list Types of products/services purchased <code>brand_interactions</code> list Brands frequently engaged with <code>device_usage</code> dict How different devices are used <code>social_media_activity</code> dict Engagement with social platforms <code>content_consumption</code> dict Media consumption patterns <p>Impact on Web Experience: Browsing history shapes recommendations, purchase patterns trigger retargeting, and device usage affects UI optimization.</p>"},{"location":"concepts/persona-model/#4-contextual-data","title":"4. Contextual Data","text":"<p>Situational and environmental factors at the time of interaction.</p> Field Type Options/Description <code>time_of_day</code> string morning, afternoon, evening, night, all day <code>day_of_week</code> string weekday, weekend, all week <code>season</code> string spring, summer, fall, winter <code>weather</code> string Current weather conditions <code>device_type</code> string desktop, laptop, tablet, mobile <code>browser_type</code> string chrome, firefox, safari, edge <code>screen_size</code> string Display resolution (e.g., \"1920x1080\") <code>connection_type</code> string wifi, ethernet, 4g, 5g, 3g <p>Impact on Web Experience: Device type affects layout, time context influences content freshness, and connection speed determines media quality.</p>"},{"location":"concepts/persona-model/#persona-development","title":"Persona Development","text":"<p>Personas can be developed through two methods:</p>"},{"location":"concepts/persona-model/#1-manual-creation","title":"1. Manual Creation","text":"<p>Archivists directly specify attribute values when creating or editing personas through the web interface.</p>"},{"location":"concepts/persona-model/#2-chat-based-development","title":"2. Chat-Based Development","text":"<p>Through conversations with Claude AI, personas can be developed organically:</p> <pre><code>Archivist: \"You have a job as a chef at a restaurant in Brooklyn.\"\nClaude (as persona): \"That's right, I work at a small Italian place\nin Park Slope. The morning prep is my favorite part of the day...\"\n</code></pre> <p>The system extracts relevant attributes from these conversations to update the persona profile.</p>"},{"location":"concepts/persona-model/#attribute-reification","title":"Attribute Reification","text":"<p>A-Proxy translates persona attributes into browser configuration:</p> Persona Attribute Browser Configuration Geographic location VPN exit node, GeoIP headers Language Accept-Language header Device type User-Agent string Browser type Browser executable Screen size Viewport dimensions Connection type Network throttling <p>This allows web crawling that authentically represents how a persona would experience the web.</p>"},{"location":"concepts/persona-model/#data-model","title":"Data Model","text":"<pre><code># Example persona structure\n{\n    \"id\": 1,\n    \"name\": \"Brooklyn Chef\",\n    \"demographic\": {\n        \"latitude\": 40.6782,\n        \"longitude\": -73.9442,\n        \"country\": \"United States\",\n        \"city\": \"Brooklyn\",\n        \"region\": \"New York\",\n        \"language\": \"en-US\",\n        \"age\": 34,\n        \"occupation\": \"Chef\"\n    },\n    \"psychographic\": {\n        \"interests\": [\"cooking\", \"food sourcing\", \"Italian cuisine\"],\n        \"personal_values\": [\"quality\", \"authenticity\", \"sustainability\"],\n        \"lifestyle\": \"urban professional\",\n        \"personality\": \"creative, detail-oriented\"\n    },\n    \"behavioral\": {\n        \"browsing_habits\": [\"recipe sites\", \"food suppliers\", \"restaurant reviews\"],\n        \"purchase_history\": [\"kitchen equipment\", \"specialty ingredients\"],\n        \"device_usage\": {\"primary\": \"mobile\", \"work\": \"tablet\"}\n    },\n    \"contextual\": {\n        \"time_of_day\": \"morning\",\n        \"device_type\": \"mobile\",\n        \"browser_type\": \"chrome\",\n        \"connection_type\": \"4g\"\n    }\n}\n</code></pre>"},{"location":"concepts/persona-model/#related-concepts","title":"Related Concepts","text":"<ul> <li>Archival Goals - Why persona modeling matters for archiving</li> <li>Journeys and Waypoints - Tracking persona interactions</li> <li>Create Personas - Step-by-step creation guide</li> </ul>"},{"location":"getting-started/first-login/","title":"First Login","text":"<p>This guide walks you through your first login to A-Proxy and introduces the main interface.</p>"},{"location":"getting-started/first-login/#default-credentials","title":"Default Credentials","text":"<p>When you first start the application, use these credentials:</p> Field Value Email <code>admin@example.com</code> Password <code>password</code> <p>Security Notice</p> <p>Change these credentials in production environments. The default credentials are intended for initial setup only.</p>"},{"location":"getting-started/first-login/#login-process","title":"Login Process","text":"<ol> <li>Navigate to <code>http://localhost:5002</code> in your browser</li> <li>Enter the default email and password</li> <li>Click Login</li> </ol>"},{"location":"getting-started/first-login/#main-interface-overview","title":"Main Interface Overview","text":"<p>After logging in, you will see the main navigation with these sections:</p>"},{"location":"getting-started/first-login/#personas","title":"Personas","text":"<p>The Personas page displays all created personas. From here you can:</p> <ul> <li>View existing personas</li> <li>Create new personas</li> <li>Edit persona attributes</li> <li>Delete personas</li> </ul>"},{"location":"getting-started/first-login/#journeys","title":"Journeys","text":"<p>The Journeys page shows recorded interaction sequences. Each journey:</p> <ul> <li>Is linked to a specific persona</li> <li>Contains multiple waypoints (individual interactions)</li> <li>Tracks browsing sessions and chat conversations</li> </ul>"},{"location":"getting-started/first-login/#archives","title":"Archives","text":"<p>The Archives page displays saved web page captures. Archives include:</p> <ul> <li>Full page screenshots</li> <li>HTML content</li> <li>Metadata about capture context (location, language, etc.)</li> </ul>"},{"location":"getting-started/first-login/#interact-as","title":"Interact As","text":"<p>The Interact As page allows you to:</p> <ul> <li>Select a persona to embody</li> <li>Browse the web as that persona</li> <li>Chat with Claude AI from the persona's perspective</li> <li>Archive pages during the session</li> </ul>"},{"location":"getting-started/first-login/#settings","title":"Settings","text":"<p>The Settings page provides configuration options for:</p> <ul> <li>VPN connection settings</li> <li>API key management</li> <li>Application preferences</li> </ul>"},{"location":"getting-started/first-login/#interface-navigation","title":"Interface Navigation","text":"<pre><code>+------------------+\n|     Header       |\n| [Logo] [Nav Menu]|\n+------------------+\n|                  |\n|   Main Content   |\n|                  |\n+------------------+\n</code></pre> <p>The navigation menu items:</p> Menu Item Description Personas Manage user personas Journeys View and manage interaction records Archives Browse saved web captures Interact As Browse/chat as a selected persona Settings Application configuration"},{"location":"getting-started/first-login/#creating-your-first-persona","title":"Creating Your First Persona","text":"<ol> <li>Click Personas in the navigation</li> <li>Click Create New Persona</li> <li>Fill in the four attribute categories:</li> <li>Demographic: Location, language, age, occupation</li> <li>Psychographic: Interests, values, personality</li> <li>Behavioral: Browsing habits, device preferences</li> <li>Contextual: Time of day, connection type</li> <li>Click Save</li> </ol> <p>For detailed instructions, see Create Personas.</p>"},{"location":"getting-started/first-login/#starting-your-first-journey","title":"Starting Your First Journey","text":"<ol> <li>Click Interact As in the navigation</li> <li>Select a persona from the dropdown</li> <li>Choose an interaction mode:</li> <li>Browse: Navigate websites as the persona</li> <li>Chat: Converse with Claude AI as the persona</li> <li>Your interactions will be recorded as waypoints in a journey</li> </ol> <p>For detailed instructions, see Manage Journeys.</p>"},{"location":"getting-started/first-login/#next-steps","title":"Next Steps","text":"<ul> <li>Persona Model - Understand the 4-dimensional persona framework</li> <li>Create Personas - Detailed persona creation guide</li> <li>Manage Journeys - Working with interaction records</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>A-Proxy can be installed using Docker (recommended) or through manual installation.</p>"},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"Docker InstallationManual Installation <ul> <li>Docker installed on your system</li> <li>Docker Compose installed on your system</li> <li>NordVPN credentials (optional, for VPN features)</li> </ul> <ul> <li>Python 3.8+ with pip</li> <li>Node.js with npm</li> <li>Git for version control</li> <li>Chromium browser (for web archiving features)</li> </ul>"},{"location":"getting-started/installation/#docker-installation-recommended","title":"Docker Installation (Recommended)","text":"<p>Docker provides the easiest setup experience by handling all dependencies and environment configuration automatically.</p>"},{"location":"getting-started/installation/#quick-start","title":"Quick Start","text":"<ol> <li> <p>Clone the repository:    <pre><code>git clone https://github.com/savingads/a-proxy.git\ncd a-proxy\n</code></pre></p> </li> <li> <p>Run the helper script:    <pre><code>./start-a-proxy.sh\n</code></pre></p> </li> </ol> <p>This script will:</p> <ul> <li>Check for Docker permissions and use sudo if needed</li> <li>Create necessary directories</li> <li>Set up placeholder VPN credentials if needed</li> <li>Build and start the container</li> <li> <p>Provide status information</p> </li> <li> <p>Access the application at <code>http://localhost:5002</code></p> </li> </ul>"},{"location":"getting-started/installation/#manual-docker-setup","title":"Manual Docker Setup","text":"<p>If you prefer manual setup:</p> <ol> <li> <p>Create required directories:    <pre><code>mkdir -p data nordvpn/ovpn_udp nordvpn/ovpn_tcp archives\n</code></pre></p> </li> <li> <p>Build and start the container:    <pre><code>docker-compose build --no-cache\ndocker-compose up -d\n</code></pre></p> </li> <li> <p>Access the application at <code>http://localhost:5002</code></p> </li> <li> <p>Stop the container when done:    <pre><code>docker-compose down\n</code></pre></p> </li> </ol>"},{"location":"getting-started/installation/#vpn-configuration-optional","title":"VPN Configuration (Optional)","text":"<p>For VPN functionality:</p> <ol> <li> <p>Create a credentials file:    <pre><code>echo \"your_nordvpn_username\" &gt; nordvpn/auth.txt\necho \"your_nordvpn_password\" &gt;&gt; nordvpn/auth.txt\n</code></pre></p> </li> <li> <p>Download OpenVPN configuration files from NordVPN:</p> </li> <li>Place UDP files in <code>nordvpn/ovpn_udp/</code></li> <li>Place TCP files in <code>nordvpn/ovpn_tcp/</code></li> </ol>"},{"location":"getting-started/installation/#manual-installation","title":"Manual Installation","text":""},{"location":"getting-started/installation/#setup-steps","title":"Setup Steps","text":"<ol> <li> <p>Clone the repository:    <pre><code>git clone https://github.com/savingads/a-proxy.git\ncd a-proxy\n</code></pre></p> </li> <li> <p>Create and activate a virtual environment:    <pre><code>python -m venv venv\nsource venv/bin/activate  # Linux/Mac\n# or\n.\\venv\\Scripts\\activate   # Windows\n</code></pre></p> </li> <li> <p>Install dependencies:    <pre><code>pip install -r requirements.txt\nnpm install\n</code></pre></p> </li> <li> <p>Set up environment:    <pre><code>cp .env.example .env\n</code></pre></p> </li> </ol> <p>Edit <code>.env</code> and add your <code>ANTHROPIC_API_KEY</code> for Claude AI integration.</p> <ol> <li> <p>Initialize the database:    <pre><code>mkdir -p data\npython database.py\npython create_sample_personas_simple.py  # Optional: Add sample data\n</code></pre></p> </li> <li> <p>Start the application:    <pre><code>python app.py\n</code></pre></p> </li> </ol> <p>The application will be available at <code>http://localhost:5002</code></p>"},{"location":"getting-started/installation/#custom-port","title":"Custom Port","text":"<p>If port 5002 is in use, specify a different port:</p> <pre><code>python app.py --port 5003\n</code></pre>"},{"location":"getting-started/installation/#windows-wsl-users","title":"Windows WSL Users","text":"<p>If using Docker with WSL:</p> <ol> <li> <p>Add your user to the docker group:    <pre><code>sudo usermod -aG docker $USER\n</code></pre></p> </li> <li> <p>Log out and log back in, or run:    <pre><code>newgrp docker\n</code></pre></p> </li> <li> <p>Verify Docker access:    <pre><code>docker ps\n</code></pre></p> </li> </ol>"},{"location":"getting-started/installation/#environment-variables","title":"Environment Variables","text":"Variable Description Required <code>ANTHROPIC_API_KEY</code> API key for Claude AI integration Yes (for chat features) <code>SECRET_KEY</code> Flask session security key Recommended <code>DEBUG</code> Enable debug mode No (default: False)"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#port-conflicts","title":"Port Conflicts","text":"<p>Use the <code>--port</code> option to specify a different port: <pre><code>python app.py --port 5003\n</code></pre></p>"},{"location":"getting-started/installation/#database-issues","title":"Database Issues","text":"<p>Remove the database and reinitialize: <pre><code>rm -f data/personas.db\npython database.py\n</code></pre></p>"},{"location":"getting-started/installation/#missing-dependencies","title":"Missing Dependencies","text":"<p>Ensure your virtual environment is activated: <pre><code>source venv/bin/activate\npip install -r requirements.txt\n</code></pre></p>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<p>After installation, proceed to First Login to access the application.</p>"},{"location":"how-to/archive-pages/","title":"Archive Web Pages","text":"<p>This guide documents the process of capturing and storing web pages within the A-Proxy system.</p>"},{"location":"how-to/archive-pages/#archive-process","title":"Archive Process","text":"<p>Web archiving in A-Proxy captures page content along with the persona context used during retrieval. This preserves both the content and the conditions under which it was served.</p>"},{"location":"how-to/archive-pages/#initiating-an-archive","title":"Initiating an Archive","text":""},{"location":"how-to/archive-pages/#during-browsing","title":"During Browsing","text":"<ol> <li>Navigate to a page while browsing as a persona</li> <li>Click the Archive button in the interface</li> <li>The system captures the current page state</li> </ol>"},{"location":"how-to/archive-pages/#bulk-archiving","title":"Bulk Archiving","text":"<p>For multiple pages:</p> <ol> <li>Create a list of target URLs</li> <li>Select the persona context</li> <li>Initiate batch capture</li> <li>Monitor progress</li> </ol>"},{"location":"how-to/archive-pages/#captured-data","title":"Captured Data","text":"<p>Each archive record contains:</p> Component Description HTML Content Full page source Screenshot Visual capture of rendered page HTTP Headers Server response headers Cookies Session cookies at capture time Timestamp Exact capture datetime Persona Context Attributes used during retrieval"},{"location":"how-to/archive-pages/#metadata-stored","title":"Metadata Stored","text":"<pre><code>{\n    \"url\": \"https://example.com/page\",\n    \"capture_time\": \"2024-12-09T10:30:00Z\",\n    \"persona_id\": 1,\n    \"browser_context\": {\n        \"user_agent\": \"...\",\n        \"accept_language\": \"en-US\",\n        \"viewport\": \"1920x1080\"\n    },\n    \"network_context\": {\n        \"exit_ip_region\": \"US-NY\",\n        \"connection_type\": \"wifi\"\n    }\n}\n</code></pre>"},{"location":"how-to/archive-pages/#storage-location","title":"Storage Location","text":"<p>Archives are stored in the <code>archives/</code> directory:</p> <pre><code>archives/\n\u251c\u2500\u2500 2024/\n\u2502   \u2514\u2500\u2500 12/\n\u2502       \u2514\u2500\u2500 09/\n\u2502           \u251c\u2500\u2500 archive_001/\n\u2502           \u2502   \u251c\u2500\u2500 page.html\n\u2502           \u2502   \u251c\u2500\u2500 screenshot.png\n\u2502           \u2502   \u2514\u2500\u2500 metadata.json\n\u2502           \u2514\u2500\u2500 archive_002/\n\u2502               \u2514\u2500\u2500 ...\n</code></pre>"},{"location":"how-to/archive-pages/#viewing-archives","title":"Viewing Archives","text":""},{"location":"how-to/archive-pages/#archive-list","title":"Archive List","text":"<ol> <li>Navigate to Archives</li> <li>Browse archived pages by date or persona</li> <li>Click to view individual archives</li> </ol>"},{"location":"how-to/archive-pages/#archive-detail","title":"Archive Detail","text":"<p>Each archive view displays:</p> <ul> <li>Rendered page preview</li> <li>Original HTML source</li> <li>Capture metadata</li> <li>Associated persona information</li> </ul>"},{"location":"how-to/archive-pages/#archive-formats","title":"Archive Formats","text":""},{"location":"how-to/archive-pages/#html-archive","title":"HTML Archive","text":"<p>The captured HTML includes:</p> <ul> <li>Document structure</li> <li>Inline styles</li> <li>Script references (not executed on replay)</li> </ul>"},{"location":"how-to/archive-pages/#screenshot-archive","title":"Screenshot Archive","text":"<p>PNG screenshot capturing:</p> <ul> <li>Visible viewport at capture time</li> <li>Rendered state including dynamic content</li> </ul>"},{"location":"how-to/archive-pages/#full-page-archive-optional","title":"Full Page Archive (Optional)","text":"<p>Extended capture including:</p> <ul> <li>All referenced resources (CSS, images, scripts)</li> <li>Structured as WARC or similar format</li> </ul>"},{"location":"how-to/archive-pages/#comparison-capabilities","title":"Comparison Capabilities","text":"<p>Compare archives across:</p>"},{"location":"how-to/archive-pages/#temporal-comparison","title":"Temporal Comparison","text":"<p>Same URL archived at different times:</p> <ol> <li>Select two archive dates</li> <li>View side-by-side</li> <li>Identify content changes</li> </ol>"},{"location":"how-to/archive-pages/#persona-comparison","title":"Persona Comparison","text":"<p>Same URL with different personas:</p> <ol> <li>Select two personas</li> <li>Compare captured content</li> <li>Document personalization differences</li> </ol>"},{"location":"how-to/archive-pages/#limitations","title":"Limitations","text":""},{"location":"how-to/archive-pages/#dynamic-content","title":"Dynamic Content","text":"<ul> <li>JavaScript-rendered content may vary</li> <li>Infinite scroll content is limited to initial load</li> <li>Authenticated content requires session handling</li> </ul>"},{"location":"how-to/archive-pages/#external-resources","title":"External Resources","text":"<ul> <li>Third-party resources may be blocked</li> <li>CDN content may differ by region</li> <li>Ad content is inherently variable</li> </ul>"},{"location":"how-to/archive-pages/#research-considerations","title":"Research Considerations","text":""},{"location":"how-to/archive-pages/#reproducibility","title":"Reproducibility","text":"<p>For reproducible research:</p> <ol> <li>Document exact persona configuration</li> <li>Record VPN/network settings</li> <li>Note capture timing</li> <li>Version the capture methodology</li> </ol>"},{"location":"how-to/archive-pages/#citation","title":"Citation","text":"<p>When citing archived content:</p> <pre><code>[Page Title]. Archived [DATE] via A-Proxy using persona\n[PERSONA_NAME] with geographic context [LOCATION].\n</code></pre>"},{"location":"how-to/archive-pages/#related-guides","title":"Related Guides","text":"<ul> <li>Browse as Persona - Navigating before archiving</li> <li>Manage Journeys - Organizing archived captures</li> <li>Archival Goals - Research context for archiving</li> </ul>"},{"location":"how-to/browse-as-persona/","title":"Browse as Persona","text":"<p>A-Proxy allows you to browse the web from a persona's perspective, with browser configuration reflecting the persona's attributes.</p>"},{"location":"how-to/browse-as-persona/#overview","title":"Overview","text":"<p>When browsing as a persona, the system configures:</p> <ul> <li>Geographic location (via VPN if enabled)</li> <li>Browser language settings</li> <li>User-agent string</li> <li>Viewport/screen size</li> <li>Other contextual parameters</li> </ul> <p>This enables capturing web content as it would appear to that specific user type.</p>"},{"location":"how-to/browse-as-persona/#starting-a-browsing-session","title":"Starting a Browsing Session","text":""},{"location":"how-to/browse-as-persona/#method-1-interact-as-page","title":"Method 1: Interact As Page","text":"<ol> <li>Navigate to Interact As</li> <li>Select a persona from the dropdown</li> <li>Choose Browse mode</li> <li>Enter a URL or start exploring</li> </ol>"},{"location":"how-to/browse-as-persona/#method-2-journey-browse","title":"Method 2: Journey Browse","text":"<ol> <li>Navigate to Journeys</li> <li>Open an existing journey</li> <li>Click Browse to continue the journey</li> <li>The persona is automatically selected</li> </ol>"},{"location":"how-to/browse-as-persona/#method-3-persona-quick-action","title":"Method 3: Persona Quick Action","text":"<ol> <li>Navigate to Personas</li> <li>Click on a persona</li> <li>Click Browse As button</li> <li>Enter a starting URL</li> </ol>"},{"location":"how-to/browse-as-persona/#browser-configuration","title":"Browser Configuration","text":""},{"location":"how-to/browse-as-persona/#automatic-settings","title":"Automatic Settings","text":"<p>The following are configured based on persona attributes:</p> Persona Attribute Browser Setting Language Accept-Language header Device Type User-Agent string Browser Type User-Agent string Screen Size Viewport dimensions"},{"location":"how-to/browse-as-persona/#vpn-integration","title":"VPN Integration","text":"<p>If VPN is configured and the persona has geographic attributes:</p> Persona Attribute VPN Setting Country VPN exit node region City Closest available server <p>See VPN Integration for setup details.</p>"},{"location":"how-to/browse-as-persona/#browsing-interface","title":"Browsing Interface","text":""},{"location":"how-to/browse-as-persona/#navigation-bar","title":"Navigation Bar","text":"<p>The browsing interface includes:</p> <ul> <li>URL Bar: Enter addresses directly</li> <li>Back/Forward: Navigate history</li> <li>Refresh: Reload current page</li> <li>Archive: Save the current page</li> </ul>"},{"location":"how-to/browse-as-persona/#persona-context-display","title":"Persona Context Display","text":"<p>A sidebar or header shows:</p> <ul> <li>Current persona name</li> <li>Active geographic settings</li> <li>Browser configuration summary</li> </ul>"},{"location":"how-to/browse-as-persona/#page-viewer","title":"Page Viewer","text":"<p>The main area displays web content with:</p> <ul> <li>Full page rendering</li> <li>JavaScript execution</li> <li>Cookie handling based on session</li> </ul>"},{"location":"how-to/browse-as-persona/#recording-waypoints","title":"Recording Waypoints","text":"<p>Each page visit is automatically recorded as a waypoint:</p> <ol> <li>Page URL is logged</li> <li>Page title is captured</li> <li>Timestamp is recorded</li> <li>Sequence number is assigned</li> </ol>"},{"location":"how-to/browse-as-persona/#adding-notes","title":"Adding Notes","text":"<p>While browsing:</p> <ol> <li>Click the Notes button</li> <li>Add observations about the current page</li> <li>Notes are attached to the waypoint</li> </ol>"},{"location":"how-to/browse-as-persona/#taking-screenshots","title":"Taking Screenshots","text":"<p>Manually capture the current view:</p> <ol> <li>Click the Screenshot button</li> <li>The image is saved to the waypoint</li> <li>Useful for capturing specific states</li> </ol>"},{"location":"how-to/browse-as-persona/#managing-cookies","title":"Managing Cookies","text":"<p>Cookies affect personalization and tracking:</p>"},{"location":"how-to/browse-as-persona/#session-cookies","title":"Session Cookies","text":"<ul> <li>Created during browsing</li> <li>Persist within the session</li> <li>Cleared when session ends</li> </ul>"},{"location":"how-to/browse-as-persona/#persistent-cookies","title":"Persistent Cookies","text":"<ul> <li>Can be configured per persona</li> <li>Simulate returning user behavior</li> <li>Enable personalization testing</li> </ul>"},{"location":"how-to/browse-as-persona/#browser-fingerprinting","title":"Browser Fingerprinting","text":"<p>Some websites use browser fingerprinting beyond cookies:</p>"},{"location":"how-to/browse-as-persona/#managed-attributes","title":"Managed Attributes","text":"<p>A-Proxy configures these fingerprint elements:</p> <ul> <li>User-Agent string</li> <li>Screen resolution</li> <li>Language preferences</li> <li>Timezone (derived from location)</li> </ul>"},{"location":"how-to/browse-as-persona/#unmanaged-attributes","title":"Unmanaged Attributes","text":"<p>Some fingerprint elements are harder to control:</p> <ul> <li>Canvas fingerprinting</li> <li>WebGL fingerprinting</li> <li>Audio fingerprinting</li> </ul> <p>Fingerprint Limitations</p> <p>Full fingerprint spoofing requires additional tools. A-Proxy focuses on high-impact attributes.</p>"},{"location":"how-to/browse-as-persona/#best-practices","title":"Best Practices","text":""},{"location":"how-to/browse-as-persona/#planning-sessions","title":"Planning Sessions","text":"<p>Before browsing:</p> <ol> <li>Review the persona's attributes</li> <li>Ensure VPN is configured if needed</li> <li>Determine target websites</li> <li>Create or select an appropriate journey</li> </ol>"},{"location":"how-to/browse-as-persona/#documenting-observations","title":"Documenting Observations","text":"<p>During browsing:</p> <ol> <li>Note differences from expected content</li> <li>Capture screenshots of personalized elements</li> <li>Record any error states or blocking</li> </ol>"},{"location":"how-to/browse-as-persona/#session-hygiene","title":"Session Hygiene","text":"<p>For clean captures:</p> <ol> <li>Start with fresh session (no cookies)</li> <li>Or load persona-specific cookie profile</li> <li>Avoid mixing persona sessions</li> </ol>"},{"location":"how-to/browse-as-persona/#troubleshooting","title":"Troubleshooting","text":""},{"location":"how-to/browse-as-persona/#pages-not-loading","title":"Pages Not Loading","text":"<ol> <li>Check internet connectivity</li> <li>Verify VPN connection (if using)</li> <li>Try without VPN to isolate issue</li> </ol>"},{"location":"how-to/browse-as-persona/#wrong-location-detected","title":"Wrong Location Detected","text":"<ol> <li>Confirm VPN is connected</li> <li>Check VPN exit node matches persona location</li> <li>Some sites use multiple detection methods</li> </ol>"},{"location":"how-to/browse-as-persona/#missing-personalization","title":"Missing Personalization","text":"<ol> <li>Personalization may require browsing history</li> <li>Build session history through repeated visits</li> <li>Some personalization requires login</li> </ol>"},{"location":"how-to/browse-as-persona/#related-guides","title":"Related Guides","text":"<ul> <li>VPN Integration - Geographic spoofing setup</li> <li>Archive Web Pages - Saving captured content</li> <li>Manage Journeys - Organizing browsing sessions</li> </ul>"},{"location":"how-to/create-personas/","title":"Create Personas","text":"<p>This guide explains how to create and configure personas in A-Proxy.</p>"},{"location":"how-to/create-personas/#quick-start","title":"Quick Start","text":"<ol> <li>Navigate to Personas in the main menu</li> <li>Click Create New Persona</li> <li>Fill in the persona attributes</li> <li>Click Save</li> </ol>"},{"location":"how-to/create-personas/#step-by-step-guide","title":"Step-by-Step Guide","text":""},{"location":"how-to/create-personas/#1-access-the-persona-creation-form","title":"1. Access the Persona Creation Form","text":"<p>From the main navigation, click Personas to view the persona list, then click Create New Persona.</p>"},{"location":"how-to/create-personas/#2-basic-information","title":"2. Basic Information","text":"<p>Enter a descriptive name for your persona:</p> Field Example Notes Name \"Brooklyn Chef\" Use a memorable, descriptive name"},{"location":"how-to/create-personas/#3-demographic-attributes","title":"3. Demographic Attributes","text":"<p>Configure geographic and demographic information:</p> Field Example Purpose Country United States Sets GeoIP region City Brooklyn Local content targeting Region New York State/province identification Language en-US Browser Accept-Language header Latitude/Longitude 40.6782, -73.9442 Precise geolocation Age 34 Demographic targeting Gender Male Demographic segmentation Education Culinary Degree Profile context Income $60,000-80,000 Economic targeting Occupation Chef Professional context"},{"location":"how-to/create-personas/#4-psychographic-attributes","title":"4. Psychographic Attributes","text":"<p>Define psychological characteristics:</p> Field Type Example Interests List cooking, food sourcing, Italian cuisine Personal Values List quality, authenticity, sustainability Attitudes List health-conscious, locally-focused Lifestyle Text urban professional Personality Text creative, detail-oriented Opinions List organic is worth the cost, local sourcing matters <p>Tips for Lists: Enter items separated by commas or use the add button for each item.</p>"},{"location":"how-to/create-personas/#5-behavioral-attributes","title":"5. Behavioral Attributes","text":"<p>Specify online behavior patterns:</p> Field Type Example Browsing Habits List recipe sites, food suppliers, restaurant reviews Purchase History List kitchen equipment, specialty ingredients Brand Interactions List KitchenAid, Whole Foods, local farms Device Usage Object {\"primary\": \"mobile\", \"work\": \"tablet\"} Social Media Activity Object {\"instagram\": \"daily\", \"twitter\": \"weekly\"} Content Consumption Object {\"video\": \"cooking shows\", \"reading\": \"food blogs\"}"},{"location":"how-to/create-personas/#6-contextual-attributes","title":"6. Contextual Attributes","text":"<p>Define situational parameters:</p> Field Options Example Time of Day morning, afternoon, evening, night, all day morning Day of Week weekday, weekend, all week weekday Season spring, summer, fall, winter fall Weather (free text) clear Device Type desktop, laptop, tablet, mobile mobile Browser Type chrome, firefox, safari, edge chrome Screen Size (resolution) 390x844 Connection Type wifi, ethernet, 4g, 5g, 3g 4g"},{"location":"how-to/create-personas/#7-save-the-persona","title":"7. Save the Persona","text":"<p>Click Save to create the persona. You will be redirected to the persona list.</p>"},{"location":"how-to/create-personas/#editing-personas","title":"Editing Personas","text":"<ol> <li>Navigate to Personas</li> <li>Click on the persona name to view details</li> <li>Click Edit to modify attributes</li> <li>Make changes and click Save</li> </ol>"},{"location":"how-to/create-personas/#deleting-personas","title":"Deleting Personas","text":"<ol> <li>Navigate to Personas</li> <li>Click on the persona to view details</li> <li>Click Delete</li> <li>Confirm the deletion</li> </ol> <p>Cascade Deletion</p> <p>Deleting a persona may affect associated journeys. Review linked journeys before deletion.</p>"},{"location":"how-to/create-personas/#best-practices","title":"Best Practices","text":""},{"location":"how-to/create-personas/#creating-realistic-personas","title":"Creating Realistic Personas","text":"<ol> <li>Consistency: Ensure attributes align logically (e.g., a student persona shouldn't have high income)</li> <li>Specificity: More detailed personas produce more targeted archival captures</li> <li>Research Basis: Base personas on actual demographic research when possible</li> </ol>"},{"location":"how-to/create-personas/#persona-naming-conventions","title":"Persona Naming Conventions","text":"<p>Use names that indicate key characteristics:</p> <ul> <li>\"Brooklyn Chef, 34, Mobile\" - location + occupation + age + device</li> <li>\"German Student Researcher\" - nationality + role</li> <li>\"Retired UK Gardener\" - status + location + interest</li> </ul>"},{"location":"how-to/create-personas/#geographic-accuracy","title":"Geographic Accuracy","text":"<p>For location-based personalization:</p> <ol> <li>Set accurate latitude/longitude coordinates</li> <li>Ensure city/region/country are consistent</li> <li>Use appropriate language codes (e.g., \"de-DE\" for German in Germany)</li> </ol>"},{"location":"how-to/create-personas/#llm-assisted-creation","title":"LLM-Assisted Creation","text":"<p>Personas can also be developed through chat. See Develop Personas via Chat for details.</p>"},{"location":"how-to/create-personas/#related-guides","title":"Related Guides","text":"<ul> <li>Develop Personas via Chat - Build personas through conversation</li> <li>Persona Model - Understanding the 4-dimensional framework</li> <li>Browse as Persona - Using personas for web browsing</li> </ul>"},{"location":"how-to/develop-personas/","title":"Develop Personas via Chat","text":"<p>A-Proxy allows personas to be developed and refined through conversations with Claude AI. This approach creates more natural, organically developed personas.</p>"},{"location":"how-to/develop-personas/#overview","title":"Overview","text":"<p>Instead of filling out forms, archivists can chat with Claude while adopting a persona perspective. The system extracts relevant attributes from these conversations to build out the persona profile.</p>"},{"location":"how-to/develop-personas/#starting-a-persona-chat","title":"Starting a Persona Chat","text":""},{"location":"how-to/develop-personas/#method-1-direct-chat","title":"Method 1: Direct Chat","text":"<ol> <li>Navigate to Personas</li> <li>Click on an existing persona</li> <li>Click Chat or Direct Chat</li> <li>Begin conversing as or about the persona</li> </ol>"},{"location":"how-to/develop-personas/#method-2-interact-as","title":"Method 2: Interact As","text":"<ol> <li>Navigate to Interact As</li> <li>Select a persona from the dropdown</li> <li>Choose Chat mode</li> <li>Start the conversation</li> </ol>"},{"location":"how-to/develop-personas/#chat-techniques","title":"Chat Techniques","text":""},{"location":"how-to/develop-personas/#directive-statements","title":"Directive Statements","text":"<p>Provide explicit information about the persona:</p> <pre><code>You: \"You have a job as a chef at a restaurant on 36th Street in Brooklyn.\"\n\nClaude: \"That's right, I work at a small Italian place in Park Slope.\nThe morning prep is my favorite part of the day - there's something\nmeditative about chopping vegetables before the lunch rush.\"\n</code></pre> <p>The system extracts: - Occupation: Chef - Location: Brooklyn, 36th Street - Workplace type: Italian restaurant - Work schedule: Morning shifts</p>"},{"location":"how-to/develop-personas/#exploratory-questions","title":"Exploratory Questions","text":"<p>Ask questions to develop personality and preferences:</p> <pre><code>You: \"What websites do you usually visit when looking for recipe inspiration?\"\n\nClaude: \"I spend a lot of time on Serious Eats - Kenji Lopez-Alt's\nscientific approach to cooking really appeals to me. I also follow\nseveral Italian food blogs and check supplier sites for seasonal\ningredients.\"\n</code></pre> <p>The system extracts: - Browsing habits: Serious Eats, Italian food blogs, supplier sites - Interests: Scientific cooking approach, seasonal ingredients - Personality: Detail-oriented, methodical</p>"},{"location":"how-to/develop-personas/#scenario-development","title":"Scenario Development","text":"<p>Place the persona in situations to reveal behavior:</p> <pre><code>You: \"You're planning a special dinner menu for next week. Walk me\nthrough how you'd research and prepare.\"\n\nClaude: \"First, I'd check what's coming in fresh from our local farms\nthis week - I usually browse the Greenmarket site on my phone during\nmy commute. Then I'd spend some time on my laptop looking at classic\nItalian preparations...\"\n</code></pre> <p>The system extracts: - Device usage: Mobile for quick browsing, laptop for research - Values: Local sourcing, seasonal cooking - Behavioral patterns: Research habits, planning approach</p>"},{"location":"how-to/develop-personas/#persona-modes","title":"Persona Modes","text":""},{"location":"how-to/develop-personas/#chat-as-the-persona","title":"Chat AS the Persona","text":"<p>Claude adopts the persona's identity and responds from their perspective:</p> <pre><code>System: You are [Persona Name], a 34-year-old chef in Brooklyn...\nUser: How do you feel about online grocery shopping?\nClaude (as persona): I'm pretty skeptical of it, honestly. For my\nrestaurant, I need to see and smell the ingredients...\n</code></pre>"},{"location":"how-to/develop-personas/#chat-about-the-persona","title":"Chat ABOUT the Persona","text":"<p>Discuss and develop the persona in third person:</p> <pre><code>User: What would this persona's reaction be to a new food delivery app?\nClaude: Given their values around local sourcing and quality, they would\nlikely be skeptical of food delivery apps...\n</code></pre>"},{"location":"how-to/develop-personas/#attribute-extraction","title":"Attribute Extraction","text":"<p>The system monitors conversations for extractable information:</p> Mentioned Information Extracted Attribute Category \"I work at a restaurant\" occupation: Chef Demographic \"I usually browse on my phone\" device_type: mobile Contextual \"Local sourcing matters to me\" personal_values: [local sourcing] Psychographic \"I check recipe sites every morning\" time_of_day: morning Contextual"},{"location":"how-to/develop-personas/#building-context-over-time","title":"Building Context Over Time","text":"<p>Each conversation builds on previous ones:</p> <p>Session 1: Establish basic identity <pre><code>\"You're a chef in Brooklyn who values local ingredients.\"\n</code></pre></p> <p>Session 2: Develop behaviors <pre><code>\"Tell me about your typical morning routine before work.\"\n</code></pre></p> <p>Session 3: Refine preferences <pre><code>\"What brands of kitchen equipment do you trust?\"\n</code></pre></p> <p>Session 4: Add depth <pre><code>\"How has your approach to cooking evolved over the years?\"\n</code></pre></p>"},{"location":"how-to/develop-personas/#recording-conversations","title":"Recording Conversations","text":"<p>Chat sessions are automatically saved as waypoints in journeys:</p> <ol> <li>Each message exchange is recorded</li> <li>Conversation context is preserved</li> <li>Extracted attributes are linked to the persona</li> <li>Chat history can be reviewed later</li> </ol>"},{"location":"how-to/develop-personas/#best-practices","title":"Best Practices","text":""},{"location":"how-to/develop-personas/#start-broad-then-narrow","title":"Start Broad, Then Narrow","text":"<ol> <li>Begin with general characteristics</li> <li>Progressively add specific details</li> <li>Allow natural personality traits to emerge</li> </ol>"},{"location":"how-to/develop-personas/#maintain-consistency","title":"Maintain Consistency","text":"<ul> <li>Review previous conversations before new sessions</li> <li>Refer back to established facts</li> <li>Flag contradictions for resolution</li> </ul>"},{"location":"how-to/develop-personas/#document-reasoning","title":"Document Reasoning","text":"<p>Include notes about why certain attributes were chosen:</p> <pre><code>User: \"You decided to focus on Italian cuisine after training in Rome.\"\n</code></pre> <p>This provides research context for the persona development.</p>"},{"location":"how-to/develop-personas/#reviewing-extracted-data","title":"Reviewing Extracted Data","text":"<p>After chat sessions:</p> <ol> <li>Navigate to the persona's profile</li> <li>Review newly extracted attributes</li> <li>Confirm or adjust automatically detected information</li> <li>Add manual annotations if needed</li> </ol>"},{"location":"how-to/develop-personas/#related-guides","title":"Related Guides","text":"<ul> <li>Create Personas - Manual persona creation</li> <li>Manage Journeys - Working with conversation records</li> <li>Persona Model - Understanding attribute categories</li> </ul>"},{"location":"how-to/manage-journeys/","title":"Manage Journeys","text":"<p>Journeys track sequences of interactions performed as a persona. This guide covers creating, viewing, and managing journeys and their waypoints.</p>"},{"location":"how-to/manage-journeys/#viewing-journeys","title":"Viewing Journeys","text":""},{"location":"how-to/manage-journeys/#journey-list","title":"Journey List","text":"<ol> <li>Navigate to Journeys in the main menu</li> <li>View all journeys sorted by last update</li> <li>Each entry shows:</li> <li>Journey name</li> <li>Associated persona</li> <li>Journey type</li> <li>Status</li> <li>Last updated timestamp</li> </ol>"},{"location":"how-to/manage-journeys/#journey-details","title":"Journey Details","text":"<p>Click on a journey name to view:</p> <ul> <li>Full journey information</li> <li>List of waypoints in sequence order</li> <li>Options to add waypoints or edit the journey</li> </ul>"},{"location":"how-to/manage-journeys/#creating-journeys","title":"Creating Journeys","text":""},{"location":"how-to/manage-journeys/#automatic-creation","title":"Automatic Creation","text":"<p>Journeys are automatically created when you:</p> <ol> <li>Start browsing as a persona</li> <li>Begin a chat session with a persona</li> <li>Archive a page from persona context</li> </ol>"},{"location":"how-to/manage-journeys/#manual-creation","title":"Manual Creation","text":"<ol> <li>Navigate to Journeys</li> <li>Click Create New Journey</li> <li>Fill in the details:</li> </ol> Field Description Required Name Descriptive journey name Yes Description Detailed purpose of the journey No Persona Select associated persona Yes Journey Type marketing, research, shopping, general Yes Status active, completed, paused Yes <ol> <li>Click Save</li> </ol>"},{"location":"how-to/manage-journeys/#journey-types","title":"Journey Types","text":"Type Use Case Example marketing Consumer behavior analysis Capturing ad targeting research Information gathering Academic research patterns shopping E-commerce interactions Purchase decision journeys general Unspecified browsing General exploration"},{"location":"how-to/manage-journeys/#managing-waypoints","title":"Managing Waypoints","text":""},{"location":"how-to/manage-journeys/#viewing-waypoints","title":"Viewing Waypoints","text":"<ol> <li>Open a journey's detail page</li> <li>Waypoints are listed in sequence order</li> <li>Each waypoint shows:</li> <li>Sequence number</li> <li>Type (browse/agent)</li> <li>URL or context</li> <li>Timestamp</li> <li>Preview (for browse waypoints)</li> </ol>"},{"location":"how-to/manage-journeys/#adding-waypoints-manually","title":"Adding Waypoints Manually","text":"<ol> <li>Open the journey detail page</li> <li>Click Add Waypoint</li> <li>Fill in the waypoint details:</li> </ol> Field Description URL Web address or reference Title Page title or waypoint label Type browse or agent Notes Additional context <ol> <li>Click Save</li> </ol>"},{"location":"how-to/manage-journeys/#adding-waypoints-through-browsing","title":"Adding Waypoints Through Browsing","text":"<p>Waypoints are automatically added when browsing as the journey's persona:</p> <ol> <li>Navigate to Interact As</li> <li>Select the persona associated with your journey</li> <li>Browse websites</li> <li>Each page visit creates a new waypoint</li> </ol>"},{"location":"how-to/manage-journeys/#editing-waypoints","title":"Editing Waypoints","text":"<ol> <li>Open the journey detail page</li> <li>Click on a waypoint</li> <li>Modify the fields</li> <li>Click Save</li> </ol>"},{"location":"how-to/manage-journeys/#deleting-waypoints","title":"Deleting Waypoints","text":"<ol> <li>Open the journey detail page</li> <li>Click on the waypoint</li> <li>Click Delete</li> <li>Confirm the deletion</li> </ol>"},{"location":"how-to/manage-journeys/#journey-status","title":"Journey Status","text":"Status Description active Currently in progress completed Finished, no more waypoints expected paused Temporarily suspended"},{"location":"how-to/manage-journeys/#changing-status","title":"Changing Status","text":"<ol> <li>Open the journey detail page</li> <li>Click Edit</li> <li>Change the status field</li> <li>Click Save</li> </ol>"},{"location":"how-to/manage-journeys/#filtering-and-searching","title":"Filtering and Searching","text":""},{"location":"how-to/manage-journeys/#by-persona","title":"By Persona","text":"<p>View journeys for a specific persona:</p> <ol> <li>Navigate to a persona's detail page</li> <li>View the Journeys section</li> <li>Click on journeys to view details</li> </ol>"},{"location":"how-to/manage-journeys/#by-type","title":"By Type","text":"<p>Filter journeys by type:</p> <ol> <li>Navigate to Journeys</li> <li>Use the type filter dropdown</li> <li>Select the desired journey type</li> </ol>"},{"location":"how-to/manage-journeys/#exporting-journey-data","title":"Exporting Journey Data","text":"<p>Journey data can be exported for analysis:</p> <ol> <li>Open the journey detail page</li> <li>Click Export</li> <li>Choose format (JSON recommended)</li> <li>Download the file</li> </ol> <p>Export includes:</p> <ul> <li>Journey metadata</li> <li>All waypoints with timestamps</li> <li>Agent conversation data (if applicable)</li> <li>Screenshot references</li> </ul>"},{"location":"how-to/manage-journeys/#best-practices","title":"Best Practices","text":""},{"location":"how-to/manage-journeys/#naming-conventions","title":"Naming Conventions","text":"<p>Use descriptive names that indicate:</p> <ul> <li>Purpose: \"Product Research\", \"Ad Capture\"</li> <li>Date: \"2024-12-09 Morning Session\"</li> <li>Persona: \"Brooklyn Chef - Coffee Equipment\"</li> </ul>"},{"location":"how-to/manage-journeys/#journey-scope","title":"Journey Scope","text":"<p>Keep journeys focused:</p> <ul> <li>One research topic per journey</li> <li>One browsing session per journey</li> <li>Clear start and end points</li> </ul>"},{"location":"how-to/manage-journeys/#documentation","title":"Documentation","text":"<p>Add notes to waypoints explaining:</p> <ul> <li>Why a page was visited</li> <li>What was observed</li> <li>Relevant findings</li> </ul>"},{"location":"how-to/manage-journeys/#related-guides","title":"Related Guides","text":"<ul> <li>Journeys and Waypoints - Understanding the data model</li> <li>Browse as Persona - Creating browse waypoints</li> <li>Archive Web Pages - Saving page captures</li> </ul>"},{"location":"how-to/settings/","title":"Settings","text":"<p>This guide documents the configuration options available in A-Proxy.</p>"},{"location":"how-to/settings/#accessing-settings","title":"Accessing Settings","text":"<p>Navigate to Settings in the main navigation menu.</p>"},{"location":"how-to/settings/#configuration-categories","title":"Configuration Categories","text":""},{"location":"how-to/settings/#api-keys","title":"API Keys","text":"Setting Description Anthropic API Key Required for Claude AI chat functionality <p>API keys can also be set via environment variables (recommended for production).</p>"},{"location":"how-to/settings/#setting-via-environment","title":"Setting via Environment","text":"<pre><code>export ANTHROPIC_API_KEY=\"sk-ant-...\"\n</code></pre> <p>Or in <code>.env</code> file:</p> <pre><code>ANTHROPIC_API_KEY=sk-ant-...\n</code></pre>"},{"location":"how-to/settings/#vpn-configuration","title":"VPN Configuration","text":"Setting Description VPN Enabled Toggle VPN functionality Default Protocol UDP or TCP Server Selection Automatic or manual <p>See VPN Integration for detailed configuration.</p>"},{"location":"how-to/settings/#browser-settings","title":"Browser Settings","text":"Setting Description Default Default Viewport Screen size for captures 1920x1080 JavaScript Enabled Execute JS during browsing true Image Loading Load images during browsing true Timeout Page load timeout (seconds) 30"},{"location":"how-to/settings/#archive-settings","title":"Archive Settings","text":"Setting Description Default Archive Location Directory for saved archives ./archives Screenshot Format PNG or JPEG PNG Capture Full Page Screenshot entire page or viewport viewport Save HTML Include raw HTML in archive true"},{"location":"how-to/settings/#session-settings","title":"Session Settings","text":"Setting Description Default Session Timeout Inactivity timeout (minutes) 30 Auto-save Journeys Save journey progress automatically true Cookie Persistence Retain cookies between sessions per-persona"},{"location":"how-to/settings/#environment-variables","title":"Environment Variables","text":"<p>Settings can be configured via environment variables:</p> Variable Setting Example <code>ANTHROPIC_API_KEY</code> Claude API key sk-ant-... <code>SECRET_KEY</code> Flask session key random-string <code>DEBUG</code> Debug mode true/false <code>PORT</code> Server port 5002"},{"location":"how-to/settings/#example-env-file","title":"Example .env File","text":"<pre><code>ANTHROPIC_API_KEY=sk-ant-api03-...\nSECRET_KEY=your-secret-key-here\nDEBUG=false\nPORT=5002\n</code></pre>"},{"location":"how-to/settings/#database-location","title":"Database Location","text":"<p>The SQLite database is stored at:</p> <pre><code>data/personas.db\n</code></pre> <p>This includes:</p> <ul> <li>Persona records</li> <li>Journey and waypoint data</li> <li>User accounts</li> <li>Settings</li> </ul>"},{"location":"how-to/settings/#backup","title":"Backup","text":"<p>To backup the database:</p> <pre><code>cp data/personas.db data/personas_backup_$(date +%Y%m%d).db\n</code></pre>"},{"location":"how-to/settings/#reset","title":"Reset","text":"<p>To reset the database:</p> <pre><code>rm data/personas.db\npython database.py\n</code></pre>"},{"location":"how-to/settings/#user-management","title":"User Management","text":""},{"location":"how-to/settings/#default-account","title":"Default Account","text":"Field Value Email admin@example.com Password password <p>Change these credentials after initial setup.</p>"},{"location":"how-to/settings/#adding-users","title":"Adding Users","text":"<p>Currently managed through direct database access. Future versions may include a user management interface.</p>"},{"location":"how-to/settings/#logging","title":"Logging","text":""},{"location":"how-to/settings/#log-location","title":"Log Location","text":"<p>Application logs are output to stdout/stderr by default.</p>"},{"location":"how-to/settings/#log-level","title":"Log Level","text":"<p>Set via environment:</p> <pre><code>export LOG_LEVEL=DEBUG  # DEBUG, INFO, WARNING, ERROR\n</code></pre>"},{"location":"how-to/settings/#performance-settings","title":"Performance Settings","text":""},{"location":"how-to/settings/#concurrent-sessions","title":"Concurrent Sessions","text":"Setting Description Default Max Concurrent Browsers Simultaneous browser instances 3 Queue Size Pending archive requests 100"},{"location":"how-to/settings/#resource-limits","title":"Resource Limits","text":"<p>Docker deployments can configure resource limits in <code>docker-compose.yml</code>:</p> <pre><code>services:\n  a-proxy:\n    deploy:\n      resources:\n        limits:\n          memory: 2G\n</code></pre>"},{"location":"how-to/settings/#troubleshooting-settings","title":"Troubleshooting Settings","text":""},{"location":"how-to/settings/#common-issues","title":"Common Issues","text":"Problem Setting to Check API calls fail Anthropic API Key Pages don't load Browser timeout, JavaScript enabled VPN not working VPN enabled, credentials Archives incomplete Archive location permissions"},{"location":"how-to/settings/#diagnostic-information","title":"Diagnostic Information","text":"<p>View system status:</p> <ol> <li>Navigate to Settings</li> <li>Check System Status section</li> <li>Review connection status for all services</li> </ol>"},{"location":"how-to/settings/#related-guides","title":"Related Guides","text":"<ul> <li>Installation - Initial configuration</li> <li>VPN Integration - VPN-specific settings</li> </ul>"},{"location":"how-to/vpn-integration/","title":"VPN Integration","text":"<p>A-Proxy supports VPN integration to simulate geographic location for personas. This allows capturing web content as it appears to users in different regions.</p>"},{"location":"how-to/vpn-integration/#purpose","title":"Purpose","text":"<p>Geographic location affects web content through:</p> <ul> <li>GeoIP-based content localization</li> <li>Regional pricing and availability</li> <li>Language and locale defaults</li> <li>Legal/regulatory content restrictions</li> <li>Targeted advertising based on location</li> </ul> <p>VPN integration enables researchers to capture these variations systematically.</p>"},{"location":"how-to/vpn-integration/#supported-vpn","title":"Supported VPN","text":"<p>A-Proxy currently supports NordVPN through OpenVPN configuration files.</p>"},{"location":"how-to/vpn-integration/#setup","title":"Setup","text":""},{"location":"how-to/vpn-integration/#prerequisites","title":"Prerequisites","text":"<ol> <li>Active NordVPN subscription</li> <li>OpenVPN configuration files</li> <li>Docker environment (recommended)</li> </ol>"},{"location":"how-to/vpn-integration/#configuration-steps","title":"Configuration Steps","text":""},{"location":"how-to/vpn-integration/#1-create-credentials-file","title":"1. Create Credentials File","text":"<pre><code>mkdir -p nordvpn\necho \"your_nordvpn_username\" &gt; nordvpn/auth.txt\necho \"your_nordvpn_password\" &gt;&gt; nordvpn/auth.txt\nchmod 600 nordvpn/auth.txt\n</code></pre>"},{"location":"how-to/vpn-integration/#2-download-openvpn-configurations","title":"2. Download OpenVPN Configurations","text":"<ol> <li>Visit NordVPN OpenVPN Configuration</li> <li>Download configuration files for target regions</li> <li>Place UDP files in <code>nordvpn/ovpn_udp/</code></li> <li>Place TCP files in <code>nordvpn/ovpn_tcp/</code></li> </ol>"},{"location":"how-to/vpn-integration/#3-directory-structure","title":"3. Directory Structure","text":"<pre><code>nordvpn/\n\u251c\u2500\u2500 auth.txt\n\u251c\u2500\u2500 ovpn_udp/\n\u2502   \u251c\u2500\u2500 us1234.nordvpn.com.udp.ovpn\n\u2502   \u251c\u2500\u2500 de5678.nordvpn.com.udp.ovpn\n\u2502   \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 ovpn_tcp/\n    \u251c\u2500\u2500 us1234.nordvpn.com.tcp.ovpn\n    \u2514\u2500\u2500 ...\n</code></pre>"},{"location":"how-to/vpn-integration/#using-vpn-with-personas","title":"Using VPN with Personas","text":""},{"location":"how-to/vpn-integration/#automatic-server-selection","title":"Automatic Server Selection","text":"<p>When a persona has geographic attributes set:</p> <ol> <li>System identifies target country/region</li> <li>Selects appropriate VPN server</li> <li>Establishes connection before browsing</li> </ol>"},{"location":"how-to/vpn-integration/#manual-server-selection","title":"Manual Server Selection","text":"<p>Override automatic selection:</p> <ol> <li>Navigate to Settings</li> <li>Select VPN Configuration</li> <li>Choose specific server</li> <li>Apply to current session</li> </ol>"},{"location":"how-to/vpn-integration/#connection-status","title":"Connection Status","text":""},{"location":"how-to/vpn-integration/#indicators","title":"Indicators","text":"<p>The interface displays:</p> Status Meaning Connected VPN active, traffic routed through exit node Connecting Establishing VPN tunnel Disconnected Direct connection, no VPN Error Connection failed"},{"location":"how-to/vpn-integration/#verification","title":"Verification","text":"<p>Verify VPN is working:</p> <ol> <li>Check displayed exit IP region</li> <li>Visit a GeoIP detection site</li> <li>Confirm location matches persona configuration</li> </ol>"},{"location":"how-to/vpn-integration/#protocol-selection","title":"Protocol Selection","text":""},{"location":"how-to/vpn-integration/#udp-recommended","title":"UDP (Recommended)","text":"<ul> <li>Lower latency</li> <li>Better for browsing</li> <li>May be blocked on some networks</li> </ul>"},{"location":"how-to/vpn-integration/#tcp","title":"TCP","text":"<ul> <li>More reliable through firewalls</li> <li>Higher latency</li> <li>Use when UDP fails</li> </ul>"},{"location":"how-to/vpn-integration/#regional-coverage","title":"Regional Coverage","text":"<p>NordVPN provides servers in 60+ countries. Common research regions:</p> Region Server Count Use Case United States 1900+ US-specific content Germany 240+ EU/GDPR context United Kingdom 440+ UK-specific content Japan 130+ Asian market content Australia 190+ APAC content"},{"location":"how-to/vpn-integration/#limitations","title":"Limitations","text":""},{"location":"how-to/vpn-integration/#geographic-precision","title":"Geographic Precision","text":"<ul> <li>VPN exits at city level, not precise location</li> <li>Some services detect VPN usage</li> <li>Latitude/longitude in persona may not match VPN exit exactly</li> </ul>"},{"location":"how-to/vpn-integration/#detection-avoidance","title":"Detection Avoidance","text":"<p>Some websites detect and block VPN traffic:</p> <ul> <li>Check if target sites block VPN</li> <li>Document any access restrictions</li> <li>Consider this limitation in research design</li> </ul>"},{"location":"how-to/vpn-integration/#connection-stability","title":"Connection Stability","text":"<ul> <li>VPN connections may drop</li> <li>Implement reconnection handling</li> <li>Monitor connection status during extended sessions</li> </ul>"},{"location":"how-to/vpn-integration/#security-considerations","title":"Security Considerations","text":""},{"location":"how-to/vpn-integration/#credential-storage","title":"Credential Storage","text":"<ul> <li>Credentials stored in plain text in <code>auth.txt</code></li> <li>Secure the <code>nordvpn/</code> directory with appropriate permissions</li> <li>Do not commit credentials to version control</li> </ul>"},{"location":"how-to/vpn-integration/#network-isolation","title":"Network Isolation","text":"<p>In Docker deployment:</p> <ul> <li>VPN runs within container</li> <li>Host network is not affected</li> <li>Container isolation provides security boundary</li> </ul>"},{"location":"how-to/vpn-integration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"how-to/vpn-integration/#connection-fails","title":"Connection Fails","text":"<ol> <li>Verify credentials in <code>auth.txt</code></li> <li>Check OpenVPN configuration file validity</li> <li>Try TCP if UDP fails</li> <li>Check network firewall rules</li> </ol>"},{"location":"how-to/vpn-integration/#wrong-region-detected","title":"Wrong Region Detected","text":"<ol> <li>Verify VPN is connected (not just started)</li> <li>Check the specific server configuration</li> <li>Some sites use additional detection methods</li> </ol>"},{"location":"how-to/vpn-integration/#slow-performance","title":"Slow Performance","text":"<ol> <li>Try servers closer to target region</li> <li>Switch from TCP to UDP</li> <li>Select less loaded servers</li> </ol>"},{"location":"how-to/vpn-integration/#alternative-approaches","title":"Alternative Approaches","text":"<p>For regions without VPN coverage or when VPN is detected:</p> <ul> <li>Proxy servers (requires additional configuration)</li> <li>Cloud instances in target regions</li> <li>Tor network (limited geographic targeting)</li> </ul>"},{"location":"how-to/vpn-integration/#related-guides","title":"Related Guides","text":"<ul> <li>Browse as Persona - Using VPN during browsing</li> <li>Installation - VPN setup during install</li> <li>Persona Model - Geographic attributes</li> </ul>"},{"location":"reference/api-endpoints/","title":"API Endpoints","text":"<p>This reference documents the HTTP endpoints available in A-Proxy.</p>"},{"location":"reference/api-endpoints/#overview","title":"Overview","text":"<p>A-Proxy exposes both web interface routes and API endpoints. Most routes serve HTML templates; those marked as API return JSON.</p>"},{"location":"reference/api-endpoints/#authentication","title":"Authentication","text":"<p>Most endpoints require authentication via session cookie. Login through <code>/login</code> to establish a session.</p>"},{"location":"reference/api-endpoints/#persona-endpoints","title":"Persona Endpoints","text":""},{"location":"reference/api-endpoints/#list-personas","title":"List Personas","text":"<pre><code>GET /personas\n</code></pre> <p>Returns HTML page listing all personas.</p> <p>Query Parameters:</p> Parameter Type Default Description page int 1 Page number per_page int 100 Items per page"},{"location":"reference/api-endpoints/#view-persona","title":"View Persona","text":"<pre><code>GET /persona/&lt;persona_id&gt;\n</code></pre> <p>Returns HTML page with persona details.</p> <p>Path Parameters:</p> Parameter Type Description persona_id int Persona identifier"},{"location":"reference/api-endpoints/#create-persona","title":"Create Persona","text":"<pre><code>GET /create-persona\nPOST /create-persona\n</code></pre> <p>GET returns the creation form. POST creates a new persona.</p> <p>POST Form Fields:</p> Field Type Required Description persona_name string Yes Persona display name latitude float No Geographic latitude longitude float No Geographic longitude language string No Language code (e.g., \"en-US\") country string No Country name city string No City name age int No Age in years interests string No Comma-separated interests (additional fields) various No See Persona Model"},{"location":"reference/api-endpoints/#edit-persona","title":"Edit Persona","text":"<pre><code>GET /edit-persona/&lt;persona_id&gt;\nPOST /edit-persona/&lt;persona_id&gt;\n</code></pre> <p>GET returns the edit form. POST updates the persona.</p>"},{"location":"reference/api-endpoints/#delete-persona","title":"Delete Persona","text":"<pre><code>POST /delete-persona/&lt;persona_id&gt;\n</code></pre> <p>Deletes the specified persona.</p>"},{"location":"reference/api-endpoints/#journey-endpoints","title":"Journey Endpoints","text":""},{"location":"reference/api-endpoints/#list-journeys","title":"List Journeys","text":"<pre><code>GET /journeys\n</code></pre> <p>Returns HTML page listing all journeys.</p>"},{"location":"reference/api-endpoints/#view-journey","title":"View Journey","text":"<pre><code>GET /journey/&lt;journey_id&gt;\n</code></pre> <p>Returns HTML page with journey details and waypoints.</p>"},{"location":"reference/api-endpoints/#create-journey","title":"Create Journey","text":"<pre><code>GET /journey/create\nPOST /journey/create\n</code></pre> <p>POST Form Fields:</p> Field Type Required Description name string Yes Journey name description string No Journey description persona_id int Yes Associated persona journey_type string No marketing, research, shopping, general <p>Response (AJAX):</p> <pre><code>{\n    \"success\": true,\n    \"journey_id\": 123,\n    \"message\": \"Journey created successfully\"\n}\n</code></pre>"},{"location":"reference/api-endpoints/#add-waypoint","title":"Add Waypoint","text":"<pre><code>POST /journey/&lt;journey_id&gt;/waypoint\n</code></pre> <p>Form Fields:</p> Field Type Description url string Waypoint URL title string Page title type string browse or agent notes string Optional notes"},{"location":"reference/api-endpoints/#archive-endpoints","title":"Archive Endpoints","text":""},{"location":"reference/api-endpoints/#list-archives","title":"List Archives","text":"<pre><code>GET /archives\n</code></pre> <p>Returns HTML page listing archived pages.</p>"},{"location":"reference/api-endpoints/#view-archive","title":"View Archive","text":"<pre><code>GET /archive/&lt;archive_id&gt;\n</code></pre> <p>Returns HTML page with archive details and content.</p>"},{"location":"reference/api-endpoints/#agent-endpoints","title":"Agent Endpoints","text":""},{"location":"reference/api-endpoints/#send-message","title":"Send Message","text":"<pre><code>POST /agent/message\n</code></pre> <p>Send a message to Claude AI in persona context.</p> <p>Request Body (JSON):</p> <pre><code>{\n    \"message\": \"User message text\",\n    \"persona_id\": 1,\n    \"conversation_history\": []\n}\n</code></pre> <p>Response:</p> <pre><code>{\n    \"response\": \"Claude's response text\",\n    \"conversation_id\": \"uuid\"\n}\n</code></pre>"},{"location":"reference/api-endpoints/#direct-chat","title":"Direct Chat","text":"<pre><code>GET /direct-chat/&lt;persona_id&gt;\n</code></pre> <p>Returns HTML chat interface for persona conversations.</p>"},{"location":"reference/api-endpoints/#browsing-endpoints","title":"Browsing Endpoints","text":""},{"location":"reference/api-endpoints/#interact-as","title":"Interact As","text":"<pre><code>GET /interact-as\n</code></pre> <p>Returns HTML interface for browsing/chatting as a persona.</p> <p>Query Parameters:</p> Parameter Type Description persona_id int Pre-select persona mode string browse or chat"},{"location":"reference/api-endpoints/#browse-page","title":"Browse Page","text":"<pre><code>POST /browse\n</code></pre> <p>Navigate to a URL as the selected persona.</p> <p>Form Fields:</p> Field Type Description url string Target URL persona_id int Persona to use"},{"location":"reference/api-endpoints/#vpn-endpoints","title":"VPN Endpoints","text":""},{"location":"reference/api-endpoints/#vpn-status","title":"VPN Status","text":"<pre><code>GET /vpn/status\n</code></pre> <p>Returns current VPN connection status.</p> <p>Response:</p> <pre><code>{\n    \"connected\": true,\n    \"server\": \"us1234.nordvpn.com\",\n    \"region\": \"US\",\n    \"ip\": \"xxx.xxx.xxx.xxx\"\n}\n</code></pre>"},{"location":"reference/api-endpoints/#connect-vpn","title":"Connect VPN","text":"<pre><code>POST /vpn/connect\n</code></pre> <p>Form Fields:</p> Field Type Description server string Server identifier protocol string udp or tcp"},{"location":"reference/api-endpoints/#disconnect-vpn","title":"Disconnect VPN","text":"<pre><code>POST /vpn/disconnect\n</code></pre> <p>Terminates VPN connection.</p>"},{"location":"reference/api-endpoints/#authentication-endpoints","title":"Authentication Endpoints","text":""},{"location":"reference/api-endpoints/#login","title":"Login","text":"<pre><code>GET /login\nPOST /login\n</code></pre> <p>POST Form Fields:</p> Field Type Description email string User email password string User password"},{"location":"reference/api-endpoints/#logout","title":"Logout","text":"<pre><code>GET /logout\n</code></pre> <p>Ends the current session.</p>"},{"location":"reference/api-endpoints/#error-responses","title":"Error Responses","text":"<p>Standard error response format:</p> <pre><code>{\n    \"success\": false,\n    \"error\": \"Error description\"\n}\n</code></pre> <p>HTTP status codes:</p> Code Meaning 200 Success 400 Bad Request 401 Unauthorized 404 Not Found 500 Server Error"},{"location":"reference/api-endpoints/#related-documentation","title":"Related Documentation","text":"<ul> <li>Database Schema - Data structures</li> <li>System Architecture - System design</li> </ul>"},{"location":"reference/architecture/","title":"System Architecture","text":"<p>This document describes the technical architecture of A-Proxy.</p>"},{"location":"reference/architecture/#overview","title":"Overview","text":"<p>A-Proxy is a Flask-based web application that combines persona management, web browsing simulation, and LLM integration for archival research purposes.</p>"},{"location":"reference/architecture/#system-diagram","title":"System Diagram","text":"<pre><code>+-------------------+     +-------------------+\n|   Web Browser     |     |   Claude API      |\n|   (User)          |     |   (Anthropic)     |\n+--------+----------+     +--------+----------+\n         |                         |\n         v                         v\n+--------+-------------------------+----------+\n|                Flask Application            |\n|  +-------------+  +-------------+           |\n|  |   Routes    |  |  Services   |           |\n|  | - persona   |  | - agent     |           |\n|  | - journey   |  | - browsing  |           |\n|  | - archives  |  | - vpn       |           |\n|  | - agent     |  +-------------+           |\n|  +------+------+                            |\n|         |                                   |\n|  +------v------+  +-------------+           |\n|  | Database    |  |  Selenium   |           |\n|  | Repository  |  |  WebDriver  |           |\n|  +------+------+  +------+------+           |\n+---------+----------------+------------------+\n          |                |\n          v                v\n   +------+------+  +------+------+\n   |   SQLite    |  |  Chromium   |\n   |   Database  |  |  Browser    |\n   +-------------+  +------+------+\n                           |\n                    +------v------+\n                    |   OpenVPN   |\n                    |   (NordVPN) |\n                    +-------------+\n</code></pre>"},{"location":"reference/architecture/#components","title":"Components","text":""},{"location":"reference/architecture/#flask-application","title":"Flask Application","text":"<p>The core web application built on Flask:</p> Component File Purpose Entry Point <code>app.py</code> Application initialization Configuration <code>config.py</code> Settings and environment Routes <code>routes/</code> HTTP endpoint handlers Templates <code>templates/</code> Jinja2 HTML templates Static <code>static/</code> CSS, JavaScript, images"},{"location":"reference/architecture/#database-layer","title":"Database Layer","text":"<p>Repository pattern implementation for data access:</p> <pre><code>database/\n\u251c\u2500\u2500 __init__.py          # Main exports, backward compatibility\n\u251c\u2500\u2500 connection.py        # SQLite connection management\n\u251c\u2500\u2500 models/              # Domain model dataclasses\n\u2514\u2500\u2500 repositories/        # Data access classes\n    \u251c\u2500\u2500 persona.py       # PersonaRepository\n    \u251c\u2500\u2500 journey.py       # JourneyRepository\n    \u251c\u2500\u2500 archive.py       # ArchiveRepository\n    \u251c\u2500\u2500 user.py          # UserRepository\n    \u2514\u2500\u2500 settings.py      # SettingsRepository\n</code></pre>"},{"location":"reference/architecture/#browser-automation","title":"Browser Automation","text":"<p>Selenium WebDriver controls Chromium for web browsing:</p> Component Purpose Selenium Browser automation framework Chromium Headless browser execution WebDriver Browser control interface"},{"location":"reference/architecture/#vpn-integration","title":"VPN Integration","text":"<p>OpenVPN client for geographic simulation:</p> Component Purpose OpenVPN VPN client NordVPN configs Server configuration files VPN routes Connection management endpoints"},{"location":"reference/architecture/#llm-integration","title":"LLM Integration","text":"<p>Claude API integration for persona conversations:</p> Component File Purpose Agent Routes <code>routes/agent.py</code> Chat endpoints Agent Service <code>utils/agent.py</code> API wrapper"},{"location":"reference/architecture/#data-flow","title":"Data Flow","text":""},{"location":"reference/architecture/#persona-browsing-flow","title":"Persona Browsing Flow","text":"<pre><code>1. User selects persona\n2. System configures browser context:\n   - User-Agent based on device_type\n   - Accept-Language based on language\n   - Viewport based on screen_size\n3. If VPN enabled:\n   - Connect to regional server\n   - Verify exit IP\n4. Navigate to URL via Selenium\n5. Capture page content\n6. Create waypoint record\n7. Return rendered page to user\n</code></pre>"},{"location":"reference/architecture/#chat-flow","title":"Chat Flow","text":"<pre><code>1. User sends message\n2. System builds context:\n   - Persona attributes\n   - Conversation history\n3. Send to Claude API\n4. Receive response\n5. Create waypoint record (type: agent)\n6. Return response to user\n</code></pre>"},{"location":"reference/architecture/#directory-structure","title":"Directory Structure","text":"<pre><code>a-proxy/\n\u251c\u2500\u2500 app.py                    # Application entry\n\u251c\u2500\u2500 config.py                 # Configuration\n\u251c\u2500\u2500 database/                 # Data layer\n\u251c\u2500\u2500 routes/                   # HTTP handlers\n\u2502   \u251c\u2500\u2500 agent.py             # Claude integration\n\u2502   \u251c\u2500\u2500 persona_api_db.py    # Persona CRUD\n\u2502   \u251c\u2500\u2500 journey.py           # Journey management\n\u2502   \u251c\u2500\u2500 browsing.py          # Web browsing\n\u2502   \u251c\u2500\u2500 archives.py          # Archive management\n\u2502   \u251c\u2500\u2500 vpn.py               # VPN control\n\u2502   \u2514\u2500\u2500 auth.py              # Authentication\n\u251c\u2500\u2500 services.py              # Business logic\n\u251c\u2500\u2500 utils/                   # Utilities\n\u2502   \u251c\u2500\u2500 agent.py            # Agent service wrapper\n\u2502   \u2514\u2500\u2500 persona_client_db.py # DB client adapter\n\u251c\u2500\u2500 templates/               # HTML templates\n\u251c\u2500\u2500 static/                  # Static assets\n\u251c\u2500\u2500 data/                    # SQLite database\n\u251c\u2500\u2500 archives/                # Archived pages\n\u251c\u2500\u2500 nordvpn/                 # VPN configuration\n\u2514\u2500\u2500 tests/                   # Test suite\n</code></pre>"},{"location":"reference/architecture/#deployment-models","title":"Deployment Models","text":""},{"location":"reference/architecture/#local-development","title":"Local Development","text":"<pre><code>Python 3.8+ \u2192 Flask dev server \u2192 SQLite\n                    \u2193\n              Chromium (local)\n</code></pre>"},{"location":"reference/architecture/#docker-deployment","title":"Docker Deployment","text":"<pre><code>Docker Container\n\u251c\u2500\u2500 Flask Application\n\u251c\u2500\u2500 Chromium Browser\n\u251c\u2500\u2500 OpenVPN Client\n\u2514\u2500\u2500 SQLite Database\n    \u2193\nVolume Mounts:\n\u251c\u2500\u2500 ./data \u2192 /app/data\n\u251c\u2500\u2500 ./archives \u2192 /app/archives\n\u2514\u2500\u2500 ./nordvpn \u2192 /app/nordvpn\n</code></pre>"},{"location":"reference/architecture/#security-considerations","title":"Security Considerations","text":""},{"location":"reference/architecture/#authentication","title":"Authentication","text":"<ul> <li>Session-based authentication via Flask-Login</li> <li>Password hashing with Werkzeug security</li> <li>Session cookies with configurable security</li> </ul>"},{"location":"reference/architecture/#data-storage","title":"Data Storage","text":"<ul> <li>SQLite database in <code>data/</code> directory</li> <li>VPN credentials in <code>nordvpn/auth.txt</code></li> <li>No encryption at rest (local deployment assumption)</li> </ul>"},{"location":"reference/architecture/#network","title":"Network","text":"<ul> <li>VPN traffic routed through OpenVPN</li> <li>Local API keys stored in environment variables</li> <li>HTTPS recommended for production deployment</li> </ul>"},{"location":"reference/architecture/#extensibility","title":"Extensibility","text":""},{"location":"reference/architecture/#adding-new-routes","title":"Adding New Routes","text":"<ol> <li>Create blueprint in <code>routes/</code></li> <li>Register in <code>app.py</code></li> <li>Add templates in <code>templates/</code></li> </ol>"},{"location":"reference/architecture/#adding-new-repositories","title":"Adding New Repositories","text":"<ol> <li>Create class in <code>database/repositories/</code></li> <li>Export from <code>database/__init__.py</code></li> <li>Add backward-compatible functions if needed</li> </ol>"},{"location":"reference/architecture/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Endpoints - HTTP interface</li> <li>Database Schema - Data structures</li> <li>Installation - Setup guide</li> </ul>"},{"location":"reference/database-schema/","title":"Database Schema","text":"<p>A-Proxy uses SQLite for data storage. This document describes the database schema and relationships.</p>"},{"location":"reference/database-schema/#database-location","title":"Database Location","text":"<pre><code>data/personas.db\n</code></pre>"},{"location":"reference/database-schema/#entity-relationship-diagram","title":"Entity Relationship Diagram","text":"<pre><code>+-------------+       +-------------------+\n|   personas  |------&gt;| demographic_data  |\n+-------------+       +-------------------+\n      |\n      +--------------&gt;+-------------------+\n      |               | psychographic_data|\n      |               +-------------------+\n      |\n      +--------------&gt;+-------------------+\n      |               | behavioral_data   |\n      |               +-------------------+\n      |\n      +--------------&gt;+-------------------+\n      |               | contextual_data   |\n      |               +-------------------+\n      |\n      +--------------&gt;+-------------------+\n                      |     journeys      |\n                      +-------------------+\n                             |\n                             v\n                      +-------------------+\n                      |    waypoints      |\n                      +-------------------+\n\n+-------------------+       +-------------------+\n| archived_websites |------&gt;|     mementos      |\n+-------------------+       +-------------------+\n\n+-------------------+       +-------------------+\n|      users        |       |     settings      |\n+-------------------+       +-------------------+\n</code></pre>"},{"location":"reference/database-schema/#tables","title":"Tables","text":""},{"location":"reference/database-schema/#personas","title":"personas","text":"<p>Core persona identity records.</p> Column Type Constraints Description id INTEGER PRIMARY KEY AUTOINCREMENT Unique identifier name TEXT NOT NULL Persona display name created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP Creation timestamp updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP Last modification"},{"location":"reference/database-schema/#demographic_data","title":"demographic_data","text":"<p>Geographic and demographic attributes.</p> Column Type Constraints Description id INTEGER PRIMARY KEY AUTOINCREMENT Unique identifier persona_id INTEGER NOT NULL, FK Reference to personas latitude REAL Geographic latitude longitude REAL Geographic longitude language TEXT Language code (e.g., \"en-US\") country TEXT Country name city TEXT City name region TEXT State/province/region age INTEGER Age in years gender TEXT Gender identity education TEXT Education level income TEXT Income bracket occupation TEXT Profession <p>Foreign Keys: <code>persona_id</code> references <code>personas(id)</code> ON DELETE CASCADE</p>"},{"location":"reference/database-schema/#psychographic_data","title":"psychographic_data","text":"<p>Psychological and value-based attributes.</p> Column Type Constraints Description id INTEGER PRIMARY KEY AUTOINCREMENT Unique identifier persona_id INTEGER NOT NULL, FK Reference to personas interests TEXT JSON array of interests personal_values TEXT JSON array of values attitudes TEXT JSON array of attitudes lifestyle TEXT Lifestyle description personality TEXT Personality description opinions TEXT JSON array of opinions <p>Note: List fields stored as JSON strings.</p> <p>Foreign Keys: <code>persona_id</code> references <code>personas(id)</code> ON DELETE CASCADE</p>"},{"location":"reference/database-schema/#behavioral_data","title":"behavioral_data","text":"<p>Online behavior and usage patterns.</p> Column Type Constraints Description id INTEGER PRIMARY KEY AUTOINCREMENT Unique identifier persona_id INTEGER NOT NULL, FK Reference to personas browsing_habits TEXT JSON array of habits purchase_history TEXT JSON array of purchases brand_interactions TEXT JSON array of brands device_usage TEXT JSON object of device patterns social_media_activity TEXT JSON object of social activity content_consumption TEXT JSON object of consumption patterns <p>Note: List fields stored as JSON arrays, object fields as JSON objects.</p> <p>Foreign Keys: <code>persona_id</code> references <code>personas(id)</code> ON DELETE CASCADE</p>"},{"location":"reference/database-schema/#contextual_data","title":"contextual_data","text":"<p>Situational and environmental context.</p> Column Type Constraints Description id INTEGER PRIMARY KEY AUTOINCREMENT Unique identifier persona_id INTEGER NOT NULL, FK Reference to personas time_of_day TEXT Activity time preference day_of_week TEXT Day preference season TEXT Seasonal context weather TEXT Weather conditions device_type TEXT Primary device browser_type TEXT Primary browser screen_size TEXT Display resolution connection_type TEXT Network connection <p>Foreign Keys: <code>persona_id</code> references <code>personas(id)</code> ON DELETE CASCADE</p>"},{"location":"reference/database-schema/#journeys","title":"journeys","text":"<p>Interaction session records.</p> Column Type Constraints Description id INTEGER PRIMARY KEY AUTOINCREMENT Unique identifier name TEXT NOT NULL Journey name description TEXT Detailed description persona_id INTEGER Associated persona journey_type TEXT DEFAULT 'marketing' Type classification status TEXT DEFAULT 'active' Current status created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP Creation timestamp updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP Last modification"},{"location":"reference/database-schema/#waypoints","title":"waypoints","text":"<p>Individual interaction records within journeys.</p> Column Type Constraints Description id INTEGER PRIMARY KEY AUTOINCREMENT Unique identifier journey_id INTEGER NOT NULL, FK Parent journey url TEXT NOT NULL URL or reference title TEXT Page/waypoint title notes TEXT User notes screenshot_path TEXT Path to screenshot timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP Waypoint time sequence_number INTEGER Order in journey metadata TEXT JSON additional data created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP Record creation type TEXT DEFAULT 'browse' browse or agent agent_data TEXT JSON conversation data <p>Foreign Keys: <code>journey_id</code> references <code>journeys(id)</code> ON DELETE CASCADE</p>"},{"location":"reference/database-schema/#archived_websites","title":"archived_websites","text":"<p>Web archive target records.</p> Column Type Constraints Description id INTEGER PRIMARY KEY AUTOINCREMENT Unique identifier uri_r TEXT NOT NULL Target URI persona_id INTEGER Capture persona archive_type TEXT NOT NULL filesystem, etc. archive_location TEXT NOT NULL Storage path created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP Creation timestamp"},{"location":"reference/database-schema/#mementos","title":"mementos","text":"<p>Individual archive captures.</p> Column Type Constraints Description id INTEGER PRIMARY KEY AUTOINCREMENT Unique identifier archived_website_id INTEGER NOT NULL, FK Parent archive memento_datetime TIMESTAMP NOT NULL Capture timestamp memento_location TEXT NOT NULL Storage location http_status INTEGER HTTP response code content_type TEXT MIME type content_length INTEGER Content size headers TEXT JSON response headers screenshot_path TEXT Screenshot location internet_archive_id TEXT IA submission ID created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP Record creation <p>Foreign Keys: <code>archived_website_id</code> references <code>archived_websites(id)</code> ON DELETE CASCADE</p>"},{"location":"reference/database-schema/#users","title":"users","text":"<p>Authentication records.</p> Column Type Constraints Description id INTEGER PRIMARY KEY AUTOINCREMENT Unique identifier email TEXT UNIQUE NOT NULL User email password_hash TEXT NOT NULL Hashed password created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP Account creation"},{"location":"reference/database-schema/#settings","title":"settings","text":"<p>Application configuration.</p> Column Type Constraints Description key TEXT PRIMARY KEY Setting identifier value TEXT Setting value description TEXT Human-readable description updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP Last modification"},{"location":"reference/database-schema/#data-access-patterns","title":"Data Access Patterns","text":""},{"location":"reference/database-schema/#repository-pattern","title":"Repository Pattern","text":"<pre><code>from database.repositories import PersonaRepository\n\nrepo = PersonaRepository()\npersona = repo.get(1)\npersonas = repo.get_all()\npersona_id = repo.save(data)\nrepo.delete(1)\n</code></pre>"},{"location":"reference/database-schema/#legacy-function-api","title":"Legacy Function API","text":"<pre><code>from database import get_persona, save_persona, delete_persona\n\npersona = get_persona(1)\npersona_id = save_persona(data)\ndelete_persona(1)\n</code></pre>"},{"location":"reference/database-schema/#initialization","title":"Initialization","text":"<p>Database tables are created on first run:</p> <pre><code>from database import initialize_database\ninitialize_database()\n</code></pre>"},{"location":"reference/database-schema/#backup-and-recovery","title":"Backup and Recovery","text":""},{"location":"reference/database-schema/#backup","title":"Backup","text":"<pre><code>cp data/personas.db data/personas_backup.db\n</code></pre>"},{"location":"reference/database-schema/#reset","title":"Reset","text":"<pre><code>rm data/personas.db\npython -c \"from database import initialize_database; initialize_database()\"\n</code></pre>"},{"location":"reference/database-schema/#related-documentation","title":"Related Documentation","text":"<ul> <li>System Architecture - Overall system design</li> <li>Persona Model - Persona data model</li> <li>API Endpoints - HTTP interface</li> </ul>"},{"location":"reference/integration/","title":"Integration","text":"<p>A-Proxy is designed to integrate with OntServe (ontology management) and ProEthica (professional ethics analysis). This document describes the integration architecture and current implementation status.</p>"},{"location":"reference/integration/#integration-goals","title":"Integration Goals","text":"<ol> <li>Import role definitions from OntServe ontologies</li> <li>Attach ethical frameworks from ProEthica</li> <li>Instantiate personas with ontology-backed attributes</li> <li>Export personas as semantic web artifacts (RDF/OWL)</li> </ol>"},{"location":"reference/integration/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   OntServe                       \u2502\n\u2502   Ontology Storage, Querying, Reasoning         \u2502\n\u2502   REST API / SPARQL                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502               \u2502               \u2502\n         v               v               v\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   A-Proxy   \u2502  \u2502  ProEthica  \u2502  \u2502 Other MCP   \u2502\n\u2502             \u2502  \u2502             \u2502  \u2502  Clients    \u2502\n\u2502 - Persona   \u2502  \u2502 - Ethical   \u2502  \u2502             \u2502\n\u2502   Mgmt      \u2502  \u2502   Analysis  \u2502  \u2502             \u2502\n\u2502 - Journey   \u2502  \u2502 - Case      \u2502  \u2502             \u2502\n\u2502   Tracking  \u2502  \u2502   Review    \u2502  \u2502             \u2502\n\u2502 - MCP       \u2502  \u2502 - MCP       \u2502  \u2502             \u2502\n\u2502   Client    \u2502  \u2502   Client    \u2502  \u2502             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"reference/integration/#data-flow","title":"Data Flow","text":"<ol> <li>Role Import: A-Proxy queries OntServe for role class definitions</li> <li>Ethical Binding: ProEthica provides ethical constraints for professional roles</li> <li>Persona Creation: User creates persona from role template plus custom attributes</li> <li>Simulation: Claude AI responses informed by role and ethical context</li> <li>Export: Persona data exported as RDF for ontology integration</li> </ol>"},{"location":"reference/integration/#current-vs-target-state","title":"Current vs. Target State","text":"Aspect Current Target Schema Fixed 4-dimension model Extensible ontology-driven Roles Implicit (occupation field) Explicit role classes from OntServe Ethics None ProEthica ethical framework Export JSON RDF/Turtle/JSON-LD Interoperability Standalone MCP-connected ecosystem"},{"location":"reference/integration/#implementation-status","title":"Implementation Status","text":""},{"location":"reference/integration/#phase-1-standalone-refactoring-complete","title":"Phase 1: Standalone Refactoring (Complete)","text":"<ul> <li>Repository pattern for database access</li> <li>Domain models as dataclasses</li> <li>Test suite passing</li> </ul>"},{"location":"reference/integration/#phase-2-service-layer-planned","title":"Phase 2: Service Layer (Planned)","text":"<ul> <li>Service layer abstraction</li> <li>Basic ontology export capability</li> <li>RDF serialization</li> </ul>"},{"location":"reference/integration/#phase-3-ontserve-integration-planned","title":"Phase 3: OntServe Integration (Planned)","text":"<ul> <li>MCP client for OntServe queries</li> <li>Role import from ontologies</li> <li>Persona-to-ontology mapping</li> </ul>"},{"location":"reference/integration/#phase-4-proethica-integration-planned","title":"Phase 4: ProEthica Integration (Planned)","text":"<ul> <li>Ethical framework attachment</li> <li>Role-based ethical constraints</li> <li>Decision scenario integration</li> </ul>"},{"location":"reference/integration/#mcp-protocol","title":"MCP Protocol","text":"<p>Model Context Protocol (MCP) enables service communication:</p> <pre><code>{\n    \"jsonrpc\": \"2.0\",\n    \"method\": \"query_role\",\n    \"params\": {\n        \"role_uri\": \"aproxy:MechanicalEngineer\"\n    },\n    \"id\": 1\n}\n</code></pre>"},{"location":"reference/integration/#ontology-namespace","title":"Ontology Namespace","text":"<pre><code>@prefix aproxy: &lt;http://ontorealm.net/aproxy#&gt; .\n@prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .\n@prefix schema: &lt;http://schema.org/&gt; .\n\naproxy:Persona a owl:Class ;\n    rdfs:subClassOf foaf:Person .\n\naproxy:hasRole a owl:ObjectProperty ;\n    rdfs:domain aproxy:Persona ;\n    rdfs:range aproxy:Role .\n</code></pre>"},{"location":"reference/integration/#related-systems","title":"Related Systems","text":""},{"location":"reference/integration/#ontserve","title":"OntServe","text":"<p>Ontology management system providing:</p> <ul> <li>PostgreSQL-backed ontology storage</li> <li>SPARQL query interface</li> <li>Reasoning capabilities</li> <li>MCP server for inter-service communication</li> </ul> <p>URL: <code>https://ontserve.ontorealm.net</code></p>"},{"location":"reference/integration/#proethica","title":"ProEthica","text":"<p>Professional ethics analysis system providing:</p> <ul> <li>9-concept extraction framework</li> <li>Case analysis methodology</li> <li>Ethical precedent discovery</li> <li>MCP server for ethics queries</li> </ul> <p>URL: <code>https://proethica.org</code></p>"},{"location":"reference/integration/#configuration","title":"Configuration","text":"<p>Integration settings in <code>.env</code>:</p> <pre><code>ONTSERVE_URL=http://localhost:8082\nPROETHICA_URL=http://localhost:5000\nMCP_ENABLED=false\n</code></pre>"},{"location":"reference/integration/#related-documentation","title":"Related Documentation","text":"<ul> <li>System Architecture - A-Proxy architecture</li> <li>Database Schema - Data storage</li> <li>Persona Model - 4-dimensional model</li> </ul>"}]}